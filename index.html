<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Informaci√≥n Alumnado">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1e40af">
    <!-- Iconos para iOS -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <link rel="apple-touch-icon" sizes="57x57" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <!-- Iconos para Android y navegadores modernos -->
    <link rel="icon" type="image/png" sizes="192x192" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.png">
    <!-- Icono para navegadores de escritorio (favicon) -->
    <link rel="shortcut icon" type="image/x-icon" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.ico">
    <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/ManuelVS8/Audios-juegos-SCIENCE/refs/heads/main/icono.ico">
    <title>Informaci√≥n del alumnado</title>
    <link rel="manifest" href="manifest.json">
    <style>
        :root {
            --primary-color: #1E40AF;
            --primary-light: #3B82F6;
            --primary-lighter: #60A5FA;
            --bg-gradient-start: #1E40AF;
            --bg-gradient-middle: #3B82F6;
            --bg-gradient-end: #60A5FA;
            --text-primary: #333;
            --text-secondary: #9CA3AF;
            --bg-card: white;
            --bg-section: #F9FAFB;
            --border-color: #D1D5DB;
            --shadow-color: rgba(0,0,0,0.15);
            --shadow-hover-color: rgba(59, 130, 246, 0.3);
            --header-text: white;
            --header-subtext: #f0f0f0;
            --font-size-base: 16px;
        }
        [data-theme="dark"] {
            --primary-color: #3B82F6;
            --primary-light: #60A5FA;
            --primary-lighter: #93C5FD;
            --bg-gradient-start: #1E293B;
            --bg-gradient-middle: #334155;
            --bg-gradient-end: #475569;
            --text-primary: #F1F5F9;
            --text-secondary: #CBD5E1;
            --bg-card: #1E293B;
            --bg-section: #334155;
            --border-color: #475569;
            --shadow-color: rgba(0,0,0,0.3);
            --shadow-hover-color: rgba(59, 130, 246, 0.4);
            --header-text: #F1F5F9;
            --header-subtext: #CBD5E1;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }
        body {
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-middle) 50%, var(--bg-gradient-end) 100%);
            min-height: 100vh;
            color: var(--text-primary);
            padding: 20px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-size: var(--font-size-base);
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .container.unlocked {
            opacity: 1;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .header h1 {
            color: var(--header-text);
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .header p {
            color: var(--header-subtext);
            font-size: 1.1rem;
        }
        /* Configuraci√≥n y controles */
        .settings-bar {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 10px;
        }
        .settings-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: none;
            color: var(--header-text);
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        .settings-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        /* Panel de configuraci√≥n */
        .settings-panel {
            position: fixed;
            top: 70px;
            right: 20px;
            background: var(--bg-card);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 20px var(--shadow-color);
            z-index: 999;
            min-width: 250px;
            display: none;
        }
        .settings-panel.active {
            display: block;
        }
        .settings-panel h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        .setting-item {
            margin-bottom: 15px;
        }
        .setting-item label {
            display: block;
            color: var(--text-primary);
            margin-bottom: 5px;
            font-weight: 500;
        }
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: var(--primary-light);
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .font-size-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .font-size-control button {
            background: var(--primary-light);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .font-size-control span {
            color: var(--text-secondary);
            min-width: 30px;
            text-align: center;
        }
        .version-info {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--border-color);
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        /* Pantalla de bloqueo */
        .lock-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-middle) 100%);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .lock-screen.hidden {
            display: none;
        }
        .lock-container {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 15px 35px var(--shadow-color);
            text-align: center;
            max-width: 400px;
            width: 90%;
            animation: slideIn 0.5s ease;
        }
        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        .lock-container h2 {
            color: var(--primary-color);
            margin-bottom: 30px;
            font-size: 1.8rem;
        }
        .lock-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            color: var(--primary-light);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        /* Visor de contrase√±a */
        .password-display {
            background: var(--bg-section);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 15px;
            font-size: 1.5rem;
            letter-spacing: 0.3rem;
            text-align: center;
            margin-bottom: 20px;
            min-height: 50px;
            color: var(--text-primary);
        }
        /* Teclado num√©rico */
        .keypad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            max-width: 280px;
            margin: 0 auto 25px auto;
        }
        .key {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            font-size: 1.4rem;
            padding: 18px 0;
            cursor: pointer;
            transition: background 0.2s, transform 0.1s;
            color: var(--text-primary);
        }
        .key:active {
            transform: scale(0.95);
        }
        .key.enter {
            background: var(--primary-light);
            color: white;
            border: none;
        }
        .key.delete {
            background: #EF4444;
            color: white;
        }
        .app-info {
            margin-top: 20px;
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.4;
        }
        .school-logo {
            margin-top: 20px;
            text-align: center;
        }
        .school-logo img {
            max-width: 150px;
            height: auto;
            display: block;
            margin: 0 auto;
        }
        .inactivity-timer {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: none;
        }
        .inactivity-timer.warning {
            display: block;
            background: rgba(239, 68, 68, 0.8);
            animation: blink 1s infinite;
        }
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.7; }
        }
        .search-container {
            background: var(--bg-card);
            border-radius: 50px;
            padding: 15px 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 20px var(--shadow-color);
            display: flex;
            align-items: center;
            position: relative;
        }
        .search-icon {
            color: var(--primary-light);
            font-size: 1.5rem;
            margin-right: 15px;
        }
        .search-input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 1.1rem;
            color: var(--text-primary);
            background: transparent;
            -webkit-appearance: none;
            appearance: none;
        }
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--bg-card);
            border-radius: 15px;
            box-shadow: 0 8px 20px var(--shadow-color);
            max-height: 300px;
            overflow-y: auto;
            z-index: 100;
            display: none;
            margin-top: 10px;
            -webkit-overflow-scrolling: touch;
        }
        .search-result-item {
            padding: 12px 25px;
            cursor: pointer;
            transition: background-color 0.2s;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-primary);
        }
        .search-result-item:hover {
            background-color: var(--bg-section);
        }
        .search-result-item:last-child {
            border-bottom: none;
        }
        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        .card {
            background: var(--bg-card);
            border-radius: 15px;
            box-shadow: 0 8px 20px var(--shadow-color);
            padding: 25px;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            border-left: 5px solid var(--primary-light);
            position: relative;
            overflow: hidden;
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
        }
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, var(--primary-light), var(--primary-lighter));
        }
        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 30px var(--shadow-hover-color);
        }
        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary-light);
        }
        .card h3 {
            color: var(--primary-color);
            font-size: 1.4rem;
            margin-bottom: 10px;
        }
        .card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }
        .screen {
            display: none;
        }
        .screen.active {
            display: block;
        }
        .navigation-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
        }
        .back-btn, .home-btn {
            background-color: var(--primary-light);
            color: white;
            border: none;
            border-radius: 30px;
            padding: 12px 25px;
            font-size: 1rem;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
            -webkit-appearance: none;
            appearance: none;
            -webkit-tap-highlight-color: transparent;
        }
        .home-btn {
            background-color: var(--primary-color);
            box-shadow: 0 4px 12px rgba(30, 64, 175, 0.4);
        }
        .back-btn:hover, .home-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
        }
        .back-btn:hover {
            background-color: #2563eb;
        }
        .home-btn:hover {
            background-color: #1e3a8a;
        }
        .back-btn::before {
            content: '‚Üê';
            margin-right: 8px;
            font-size: 1.2rem;
        }
        .home-btn::before {
            content: 'üè†';
            margin-right: 8px;
            font-size: 1.2rem;
        }
        .courses-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .course-btn {
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1rem;
            color: var(--primary-color);
            font-weight: 500;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
            -webkit-appearance: none;
            appearance: none;
            -webkit-tap-highlight-color: transparent;
        }
        .course-btn:hover {
            border-color: var(--primary-light);
            background-color: var(--bg-section);
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.2);
        }
        .students-container {
            background: var(--bg-card);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            padding: 25px;
            margin-bottom: 30px;
        }
        .students-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }
        .students-header h2 {
            color: var(--primary-color);
            font-size: 1.8rem;
        }
        .students-count {
            background-color: var(--primary-light);
            color: white;
            border-radius: 30px;
            padding: 5px 15px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        .student-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }
        .student-card {
            background-color: var(--bg-section);
            border-radius: 12px;
            padding: 18px;
            border-left: 4px solid var(--primary-lighter);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
        }
        .student-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(96, 165, 250, 0.2);
        }
        .student-name {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 8px;
            font-size: 1.1rem;
        }
        .student-info {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }
        .student-info strong {
            color: var(--primary-color);
        }
        .allergies-container {
            background: var(--bg-card);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            padding: 25px;
        }
        .allergies-header {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }
        .allergies-header h2 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
        .allergies-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        .allergy-card {
            background-color: #FEF2F2;
            border-radius: 12px;
            padding: 18px;
            border-left: 4px solid #EF4444;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
        }
        .allergy-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(239, 68, 68, 0.2);
        }
        .allergy-name {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        .allergy-info {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }
        .allergy-info .allergy-type {
            background-color: #EF4444;
            color: white;
            border-radius: 20px;
            padding: 3px 10px;
            font-size: 0.8rem;
            display: inline-block;
            margin-right: 8px;
            margin-bottom: 5px;
        }
        .no-data {
            text-align: center;
            padding: 40px;
            color: var(--text-secondary);
            font-style: italic;
        }
        .profile-container {
            background: var(--bg-card);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            padding: 30px;
            margin-bottom: 30px;
        }
        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
        }
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-lighter) 100%);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            margin-right: 20px;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        .profile-info h2 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        .profile-info p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }
        .profile-sections {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        .profile-section {
            background-color: var(--bg-section);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid var(--primary-lighter);
        }
        .profile-section h3 {
            color: var(--primary-color);
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        .profile-section h3 .icon {
            margin-right: 10px;
            color: var(--primary-light);
        }
        .profile-section-content {
            color: var(--text-secondary);
            line-height: 1.6;
        }
        .profile-section-content p {
            margin-bottom: 10px;
        }
        .profile-section-content strong {
            color: var(--primary-color);
        }
        .profile-section .tag {
            display: inline-block;
            background-color: #DBEAFE;
            color: var(--primary-color);
            border-radius: 20px;
            padding: 5px 12px;
            margin-right: 8px;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        .profile-section .warning {
            background-color: #FEF3C7;
            color: #D97706;
        }
        .profile-section .success {
            background-color: #D1FAE5;
            color: #059669;
        }
        .profile-section .danger {
            background-color: #FEE2E2;
            color: #DC2626;
        }
        .restriction-item {
            background-color: #FEF2F2;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #EF4444;
        }
        .restriction-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 8px;
            font-size: 1.1rem;
        }
        .restriction-students {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }
        .restriction-students span {
            display: inline-block;
            background-color: #FEE2E2;
            color: #DC2626;
            border-radius: 15px;
            padding: 3px 8px;
            margin: 2px;
            font-size: 0.85rem;
        }
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }
            .cards-container {
                grid-template-columns: 1fr;
            }
            .courses-container {
                grid-template-columns: 1fr;
            }
            .student-list, .allergies-list, .profile-sections {
                grid-template-columns: 1fr;
            }
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
            .profile-avatar {
                margin-right: 0;
                margin-bottom: 15px;
            }
            .navigation-buttons {
                flex-direction: column;
            }
            .back-btn, .home-btn {
                width: 100%;
                justify-content: center;
            }
            .settings-bar {
                top: 10px;
                right: 10px;
            }
            .settings-panel {
                right: 10px;
                top: 60px;
                min-width: 200px;
                padding: 15px;
            }
            .lock-container {
                padding: 30px 20px;
            }
            .lock-container h2 {
                font-size: 1.5rem;
            }
            .lock-icon {
                font-size: 3rem;
            }
        }
        @supports (-webkit-touch-callout: none) {
            .card, .student-card, .allergy-card, .course-btn, .back-btn, .home-btn {
                -webkit-transform: translateZ(0);
                transform: translateZ(0);
            }
            .search-results {
                -webkit-overflow-scrolling: touch;
            }
        }
    </style>
<base target="_blank">
</head>
<body>
<!-- Pantalla de bloqueo inicial -->
<div class="lock-screen" id="initial-lock-screen">
    <div class="lock-container">
        <div class="lock-icon">üîí</div>
        <h2>Acceso Seguro</h2>
        <!-- Visor de contrase√±a -->
        <div class="password-display" id="password-display"></div>
        <!-- Teclado num√©rico -->
        <div class="keypad">
            <button class="key" data-key="1">1</button>
            <button class="key" data-key="2">2</button>
            <button class="key" data-key="3">3</button>
            <button class="key" data-key="4">4</button>
            <button class="key" data-key="5">5</button>
            <button class="key" data-key="6">6</button>
            <button class="key" data-key="7">7</button>
            <button class="key" data-key="8">8</button>
            <button class="key" data-key="9">9</button>
            <button class="key delete" data-key="backspace">‚å´</button>
            <button class="key" data-key="0">0</button>
            <button class="key enter" data-key="enter">‚úì</button>
        </div>
        <!-- Texto y logo -->
        <div class="app-info">
            App de gesti√≥n de informaci√≥n del alumnado<br>
            CEIP Manuel Siurot
        </div>
        <div class="school-logo">
            <img src="https://raw.githubusercontent.com/ManuelVS8/Efectos_audio/1e2a36cdd1f8bedcb578a30f5ec5cc8f21c287fe/Siurot.png" alt="Logo del Colegio Siurot">
        </div>
    </div>
</div>
<!-- Pantalla de bloqueo por inactividad -->
<div class="lock-screen hidden" id="inactivity-lock-screen">
    <div class="lock-container">
        <div class="lock-icon">üîí</div>
        <h2>Desbloquear aplicaci√≥n</h2>
        <!-- Visor de contrase√±a -->
        <div class="password-display" id="inactivity-password-display"></div>
        <!-- Teclado num√©rico -->
        <div class="keypad" id="inactivity-keypad">
            <button class="key" data-key="1">1</button>
            <button class="key" data-key="2">2</button>
            <button class="key" data-key="3">3</button>
            <button class="key" data-key="4">4</button>
            <button class="key" data-key="5">5</button>
            <button class="key" data-key="6">6</button>
            <button class="key" data-key="7">7</button>
            <button class="key" data-key="8">8</button>
            <button class="key" data-key="9">9</button>
            <button class="key delete" data-key="backspace">‚å´</button>
            <button class="key" data-key="0">0</button>
            <button class="key enter" data-key="enter">‚úì</button>
        </div>
        <div class="error-message" id="inactivity-error-message"></div>
    </div>
</div>
    <div class="container" id="main-container">
        <audio id="tap-sound" preload="auto"></audio>
        <audio id="correct-sound" preload="auto"></audio>
        <audio id="error-sound" preload="auto"></audio>
        <!-- Barra de configuraci√≥n -->
        <div class="settings-bar">
            <button class="settings-btn" id="settings-toggle" title="Configuraci√≥n">‚öôÔ∏è</button>
        </div>
        <!-- Panel de configuraci√≥n -->
        <div class="settings-panel" id="settings-panel">
            <h3>Configuraci√≥n</h3>
            <div class="setting-item">
                <label> oscuro</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="dark-mode-toggle">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-item">
                <label>Activar sonido</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="sound-toggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-item">
                <label>Tama√±o de fuente</label>
                <div class="font-size-control">
                    <button id="font-decrease">A-</button>
                    <span id="font-size-value">100%</span>
                    <button id="font-increase">A+</button>
                </div>
            </div>
            <div class="version-info">
                Versi√≥n 17.11.2025
            </div>
        </div>
        <!-- Temporizador de inactividad -->
        <div class="inactivity-timer" id="inactivity-timer">
            La aplicaci√≥n se bloquear√° en <span id="countdown">5:00</span>
        </div>
        <div id="home-screen" class="screen active">
            <div class="header">
                <h1>Informaci√≥n del alumnado</h1>
                <p>Accede a la informaci√≥n organizada por categor√≠as</p>
            </div>
            <div class="search-container">
                <div class="search-icon">üîç</div>
                <input type="text" class="search-input" placeholder="Buscar por nombre de alumno..." id="global-search">
                <div class="search-results" id="search-results"></div>
            </div>
            <div class="cards-container">
                <div class="card" data-document="imagenes">
                    <div class="card-icon">üì∏</div>
                    <h3>Autorizaciones de imagen</h3>
                    <p>Consultar las autorizaciones para publicar im√°genes de los alumnos</p>
                </div>
                <div class="card" data-document="religion">
                    <div class="card-icon">üè´</div>
                    <h3>ATEDU</h3>
                    <p>Alumnado que recibe Atenci√≥n Educativa</p>
                </div>
                <div class="card" data-document="separados">
                    <div class="card-icon">üë©‚Äçüëß</div>
                    <h3>Padres separados</h3>
                    <p>Informaci√≥n sobre alumnos con padres separados</p>
                </div>
                <div class="card" data-document="alergias">
                    <div class="card-icon">ü§í</div>
                    <h3>Alergias y enfermedades</h3>
                    <p>Informaci√≥n m√©dica importante de los alumnos</p>
                </div>
                <div class="card" data-document="matinal">
                    <div class="card-icon">üåÖ</div>
                    <h3>Aula matinal</h3>
                    <p>Alumnos que asisten al aula matinal y tel√©fonos de contacto</p>
                </div>
                <div class="card" data-document="comedor">
                    <div class="card-icon">üçΩÔ∏è</div>
                    <h3>Comedor</h3>
                    <p>Alumnos que utilizan el servicio de comedor</p>
                </div>
                <div class="card" data-document="extraescolares">
                    <div class="card-icon">üé®</div>
                    <h3>Extraescolares</h3>
                    <p>Alumnos apuntados a actividades extraescolares</p>
                </div>
                <div class="card" data-document="noAutorizados">
                    <div class="card-icon">üö´</div>
                    <h3>No autorizados</h3>
                    <p>Alumnos con restricciones de autorizaci√≥n</p>
                </div>
            </div>
        </div>
        <div id="course-screen" class="screen">
            <div class="navigation-buttons">
                <button class="home-btn">Inicio</button>
                <button class="back-btn">Atr√°s</button>
            </div>
            <h2 style="color: var(--header-text); margin-bottom: 25px; font-size: 1.8rem;">Selecciona un curso</h2>
            <div id="courses-container" class="courses-container">
            </div>
        </div>
        <div id="details-screen" class="screen">
            <div class="navigation-buttons">
                <button class="home-btn">Inicio</button>
                <button class="back-btn">Atr√°s</button>
            </div>
            <div class="students-container">
                <div class="students-header">
                    <h2 id="details-title">Alumnos</h2>
                    <span id="students-count" class="students-count">0 alumnos</span>
                </div>
                <div id="student-list" class="student-list">
                </div>
            </div>
        </div>
        <div id="allergies-course-screen" class="screen">
            <div class="navigation-buttons">
                <button class="home-btn">Inicio</button>
                <button class="back-btn">Atr√°s</button>
            </div>
            <div class="students-container">
                <div class="students-header">
                    <h2 id="allergies-course-title">Alergias y enfermedades</h2>
                    <span id="allergies-course-count" class="students-count">0 alumnos</span>
                </div>
                <div id="allergies-course-list" class="student-list">
                </div>
            </div>
        </div>
        <div id="no-autorizados-screen" class="screen">
            <div class="navigation-buttons">
                <button class="home-btn">Inicio</button>
                <button class="back-btn">Atr√°s</button>
            </div>
            <div class="students-container">
                <div class="students-header">
                    <h2>Alumnos no autorizados</h2>
                    <span id="no-autorizados-count" class="students-count">0 restricciones</span>
                </div>
                <div id="no-autorizados-list">
                </div>
            </div>
        </div>
        <!-- Pantalla de categor√≠as (extraescolares o no autorizados) -->
        <div id="category-screen" class="screen">
            <div class="navigation-buttons">
                <button class="home-btn">Inicio</button>
                <button class="back-btn">Atr√°s</button>
            </div>
            <h2 style="color: var(--header-text); margin-bottom: 25px; font-size: 1.8rem;">Selecciona una categor√≠a</h2>
            <div id="category-container" class="courses-container">
            </div>
        </div>
        <!-- Pantalla de cursos por categor√≠a -->
        <div id="category-course-screen" class="screen">
            <div class="navigation-buttons">
                <button class="home-btn">Inicio</button>
                <button class="back-btn">Atr√°s</button>
            </div>
            <h2 style="color: var(--header-text); margin-bottom: 25px; font-size: 1.8rem;">Selecciona un curso</h2>
            <div id="category-courses-container" class="courses-container">
            </div>
        </div>
        <div id="profile-screen" class="screen">
            <div class="navigation-buttons">
                <button class="home-btn">Inicio</button>
                <button class="back-btn">Atr√°s</button>
            </div>
            <div class="profile-container">
                <div class="profile-header">
                    <div class="profile-avatar" id="profile-avatar">üë§</div>
                    <div class="profile-info">
                        <h2 id="profile-name">Nombre del alumno</h2>
                        <p id="profile-course">Curso</p>
                    </div>
                </div>
                <div class="profile-sections" id="profile-sections">
                </div>
            </div>
        </div>
    </div>
    <script>
                // Variables globales
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) || 
                     (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
        const documentsData = {
            imagenes: {
                "INFANTIL 3 A√ëOS A": [
                    { nombre: "CRISTO PACHECO, AINHOA", autorizacion: "2" },
                    { nombre: "GONZ√ÅLEZ LEPE, THIAGO", autorizacion: "TODO NO" },
                    { nombre: "MART√çN MART√çNEZ, GONZALO", autorizacion: "TODO NO" },
                    { nombre: "VASILE, LEONOR MAR√çA MELISSA", autorizacion: "TODO NO" },
                ],
                "INFANTIL 3 A√ëOS B": [],
                "INFANTIL 4 A√ëOS A": [],
                "INFANTIL 4 A√ëOS B": [
                    { nombre: "BAHOU, FATIMA EZZAHRA", autorizacion: "2" },
                    { nombre: "BELMAMOUN KADRI, NOOR", autorizacion: "2" }
                ],
                "INFANTIL 5 A√ëOS A": [
                    { nombre: "GARC√çA ACU√ëA, CAMILA ALESSANDRA", autorizacion: "2" },
                    { nombre: "RODR√çGUEZ P√âREZ, CARMEN", autorizacion: "2" }
                ],
                "INFANTIL 5 A√ëOS B": [
                    { nombre: "GASSOUN, MOHAMED ALI", autorizacion: "2" },
                    { nombre: "MIRANDA RUIZ, LUIS", autorizacion: "TODO NO" }
                ],
                "1¬∫ A": [
                    { nombre: "EL BRYMY EL MOSADDAQ, MAJD", autorizacion: "2" },
                    { nombre: "HAIDA, IMRAN", autorizacion: "2" },
                    { nombre: "PAVON ARANCE, MARTINA", autorizacion: "2" }
                ],
                "1¬∫ B": [
                    { nombre: "LAMKADEM EL AZRAK, MARWA", autorizacion: "TODO NO" }
                ],
                "2¬∫ A": [
                    { nombre: "GIL RAM√çREZ, JUAN", autorizacion: "2" },
                    { nombre: "LMADANI, ISRAE", autorizacion: "2" }
                ],
                "2¬∫ B": [
                    { nombre: "S√ÅNCHEZ CARO, CLAUDIA", autorizacion: "2" },
                    { nombre: "S√ÅNCHEZ P√âREZ, GERM√ÅN", autorizacion: "2" }
                ],
                "3¬∫ A": [
                    { nombre: "LAGARES MORENO, JUAN", autorizacion: "2" },
                    { nombre: "MART√çNEZ MORENO, JAIRO", autorizacion: "2" },
                    { nombre: "MIRANDA RU√çZ, ELENA", autorizacion: "TODO NO" },
                    { nombre: "MORENO MEJIAS, ENZO", autorizacion: "2" },
                    { nombre: "RADU RODR√çGUEZ, HUGO NICOL√ÅS", autorizacion: "2" }
                ],
                "3¬∫ B": [],
                "4¬∫ A": [
                    { nombre: "EL BOUAICHI, OUMAIMA", autorizacion: "2" }
                ],
                "4¬∫ B": [
                    { nombre: "MESBAHI, YOUSSEF", autorizacion: "2" }
                ],
                "5¬∫ A": [],
                "5¬∫ B": [],
                "6¬∫ A": [
                    { nombre: "BELMAMOUN KADRI, IBTISSAM", autorizacion: "2" },
                    { nombre: "DELGADO PAVON, DAVID", autorizacion: "2" },
                    { nombre: "EL BOUAICHI, MOHAMED", autorizacion: "2" },
                    { nombre: "VERDE LIM√ìN, DAVID", autorizacion: "2" }
                ],
                "6¬∫ B": []
            },
            religion: {
                "INFANTIL 3 A√ëOS A": [
                    { nombre: "DOM√çNGUEZ CUESTA, LAURA" },
                    { nombre: "LAGARES MEDRANO, THIAGO" },
                    { nombre: "PE√ëA MART√çN, PABLO" },
                    { nombre: "RODR√çGUEZ LAGARES, MARTINA" },
                    { nombre: "VASILE, LEONOR MAR√çA MELISSA" },
                    { nombre: "ZAIRI, HAFSA" }
                ],
                "INFANTIL 3 A√ëOS B": [
                    { nombre: "D√çAZ MART√çNEZ, MANUEL" },
                    { nombre: "DURAN VALQUI, MATHIAS GABRIEL" },
                    { nombre: "VAS POCLUSAN, ROZA MAR√çA" },
                    { nombre: "YACTAYO CASABONA, LOGAN DEREK" }
                ],
                "INFANTIL 4 A√ëOS A": [],
                "INFANTIL 4 A√ëOS B": [
                    { nombre: "ADAM, SOFIA" },
                    { nombre: "BAHOU, FATIMA EZZAHRA" },
                    { nombre: "BRICHA, AMIR" },
                    { nombre: "MESSBAHI, MOHAMMED ALI" }
                ],
                "INFANTIL 5 A√ëOS A": [
                    { nombre: "ARRAHMANI, MOHAMMED" },
                    { nombre: "HALIFA UM DIEILLA, BAHIR" },
                    { nombre: "LAMKADEM ZEHDALL, ISLAM" }
                ],
                "INFANTIL 5 A√ëOS B": [
                    { nombre: "BRICHA, NERMINE" },
                    { nombre: "GASSOUN, MOHAMED ALI" },
                    { nombre: "LHABASSI, ADIB" },
                    { nombre: "MIRANDA RUIZ, LUIS" },
                    { nombre: "RAMADAN, FARAH NICU" },
                    { nombre: "RAMADAN RAMIRA" },
                    { nombre: "TALIDI, BARAA" }
                ],
                "1¬∫ A": [
                    { nombre: "EL AHMADI, MOHAMED AMIN" },
                    { nombre: "EL BRYMY EL MOSADDAQ, MAJD" },
                    { nombre: "HAIDA, IMRAN" }
                ],
                "1¬∫ B": [
                    { nombre: "DOM√çNGUEZ, CUESTA, AN√çBAL" },
                    { nombre: "EL GOUCHE, LOUAY" },
                    { nombre: "LAHMIDI, SAMI" },
                    { nombre: "LAMKADEM EL AZRAK, MARWA" }
                ],
                "2¬∫ A": [
                    { nombre: "LMADANI, ISRAE" },
                    { nombre: "ZAIRI, YASSINE" }
                ],
                "2¬∫ B": [
                    { nombre: "CHOULKHA LAHDAOUI, HAMZA" },
                    { nombre: "EL AHMADI, AMIRA" },
                    { nombre: "HAYBOUL, KHADIJA" }
                ],
                "3¬∫ A": [
                    { nombre: "BLAS CASCO, LUCA" },
                    { nombre: "MIRANDA RUIZ, ELENA" },
                    { nombre: "REBOLLO PRADES, LEO" },
                    { nombre: "VILLATORO FIDALGO, LUC√çA" },
                    { nombre: "ZAIRI, AYA" }
                ],
                "3¬∫ B": [],
                "4¬∫ A": [
                    { nombre: "BENATTI AIT-ZAHRIA, AKRAM" },
                    { nombre: "D√çAZ MART√çNEZ, ALEJANDRA" },
                    { nombre: "D√çAZ RU√çZ, PATRICIA" },
                    { nombre: "DUQUE SALAS, ALICIA" },
                    { nombre: "EL BOUAICHI, OUMAIMA" },
                    { nombre: "MESSBAHI, AWALEF" },
                    { nombre: "MOLINA D√çAZ, LUCAS" },
                    { nombre: "TAHIRI, ANASS" },
                    { nombre: "VEGA SANCHEZ, LEO" }
                ],
                "4¬∫ B": [
                    { nombre: "ADDIA, MOHAMMED RIDA" },
                    { nombre: "DAYFOLLAH, DOUAE" },
                    { nombre: "GHANMI MANSOUR, ALI" },
                    { nombre: "GHANMI MANSOUR, YAHIA" },
                    { nombre: "LAHMIDI, ISMAIL" },
                    { nombre: "LAMKADEM ZEHDAL, NOUR" },
                    { nombre: "LMADANI, FATNA" },
                    { nombre: "MESBAHI, YOUSSEF" },
                    { nombre: "TALIDI, NOUR" }
                ],
                "5¬∫ A": [
                    { nombre: "ADDIA, KHADIJA" },
                    { nombre: "EL GOUCHE, SOHAID" },
                    { nombre: "GONZ√ÅLEZ ALCARAZ, ULISES" },
                    { nombre: "ORILL√ìN GRANDE, ABRIL" }
                ],
                "5¬∫ B": [
                    { nombre: "CHOULKHA LAHDAOUR, IMANE" },
                    { nombre: "LAMKADEM EL AZRAK, ASMA" },
                    { nombre: "PALOS C√ÅRDENAS, ANDR√âS" },
                    { nombre: "ZAYADI BOUBKEUR, ABDULAH" }
                ],
                "6¬∫ A": [
                    { nombre: "BEL MAMOUN, IBLISSAM" },
                    { nombre: "EL BOUAICHI, MOHAMED" }
                ],
                "6¬∫ B": [
                    { nombre: "ADAM, ISRAE" },
                    { nombre: "BEHDAOUI, YASMINE" },
                    { nombre: "MART√çN HERN√ÅNDEZ, √ÅLVARO" },
                    { nombre: "REBOLLO PRADES, HUGO" },
                    { nombre: "VEGA S√ÅNCHEZ, FABIOLA" }
                ]
            },
            separados: {
                "INFANTIL 3 A√ëOS A": [
                    { nombre: "VASILE, LEONOR MAR√çA MELISSA", observacion: "FAMILIA MONOPARENTAL" }
                ],
                "INFANTIL 3 A√ëOS B": [
                    { nombre: "LEPE HUELVA, VALERIA", observacion: "SENTENCIA EN EXPEDIENTE" },
                    { nombre: "MEDRANO CASCALES, MARINA", observacion: "SENTENCIA EN EXPEDIENTE" }
                ],
                "INFANTIL 4 A√ëOS A": [
                    { nombre: "CALVO BALD√çN, JIMENA", observacion: "Sin informaci√≥n" }
                ],
                "INFANTIL 4 A√ëOS B": [
                    { nombre: "GONZ√ÅLEZ TORRES, IRENE", observacion: "SENTENCIA EN EXPEDIENTE" }
                ],
                "INFANTIL 5 A√ëOS A": [
                    { nombre: "GARC√çA ACU√ëA, CAMILA ALESSANDRA", observacion: "FAMILIA MONOPARENTAL" }
                ],
                "INFANTIL 5 A√ëOS B": [
                    { nombre: "CALLE MELENDO, CLAUDIA", observacion: "Sin informaci√≥n" }
                ],
                "1¬∫ A": [
                    { nombre: "C√ìRDOBA ALCARRANZA, JORDAN", observacion: "FAMILIA MONOPARENTAL" },
                    { nombre: "EL GOUCHE, LOUAY", observacion: "SENTENCIA EN EXPEDIENTE/ ORDEN ALEJAMIENTO" },
                    { nombre: "FLORES COLLADO, TRIANA", observacion: "Sin informaci√≥n" },
                    { nombre: "GIL GIL, NATALIA", observacion: "FAMILIA MONOPARENTAL" }
                ],
                "1¬∫ B": [
                    { nombre: "DOM√çNGUEZ P√âREZ, MALENA", observacion: "SENTENCIA EN EXPEDIENTE" },
                    { nombre: "CALVO BALD√çN, CAYETANO", observacion: "Sin informaci√≥n" },
                    { nombre: "DOM√çNGUEZ SU√ÅREZ, NURIA", observacion: "SENTENCIA EN EXPEDIENTE" },
                    { nombre: "TEBA D√çAZ, ALEJANDRO", observacion: "NO ENTREGA NADA" }
                ],
                "2¬∫ A": [
                    { nombre: "GARC√çA INFANTE, JIMENA", observacion: "CONVENIO REGULADOR EN EXPEDIENTE" },
                    { nombre: "GONZ√ÅLEZ TORRES, CARMEN", observacion: "SENTENCIA EN EXPEDIENTE" },
                    { nombre: "MILL√ÅN LAGARES, VALERIA", observacion: "NO ENTREGA NADA" }
                ],
                "2¬∫ B": [],
                "3¬∫ A": [
                    { nombre: "LAGARES ALAN√çS, MARINA", observacion: "SENTENCIA EN EXPEDIENTE" },
                    { nombre: "GARC√çA JIM√âNEZ, ROC√çO", observacion: "NO ENTREGA NADA" },
                    { nombre: "GARC√çA JIM√âNEZ, SILVIA", observacion: "NO ENTREGA NADA" },
                    { nombre: "MARAVER D√çAZ, FERNANDO", observacion: "NO ENTREGA NADA" }
                ],
                "3¬∫ B": [
                    { nombre: "ARTEAGA MIRKOVIC, NICOLE ALYSON", observacion: "NO ENTREGA NADA" },
                    { nombre: "CASADO GODOY, ROSA", observacion: "RESOLUCI√ìN DE ACOGIMIENTO" },
                    { nombre: "DOM√çNGUEZ LAGARES, JOSE", observacion: "NO ENTREGA NADA" }
                ],
                "4¬∫ A": [
                    { nombre: "D√çAZ RU√çZ, PATRICIA", observacion: "FAMILIA MONOPARENTAL (CUSTODIA ABUELOS)" },
                    { nombre: "JORD√ÅN SU√ÅREZ, RUB√âN", observacion: "Sin informaci√≥n" },
                    { nombre: "VALENCIANO BELLER√çN, VER√ìNICA", observacion: "SENTENCIA EN EXPEDIENTE" }
                ],
                "4¬∫ B": [
                    { nombre: "D√çAZ AVILA, TRIST√ÅN", observacion: "SENTENCIA EN EXPEDIENTE" },
                    { nombre: "DOM√çNGUEZ P√âREA, LEO", observacion: "SENTENCIA EN EXPEDIENTE" },
                    { nombre: "PICHARDO L√ìPEZ, NURIA", observacion: "SENTENCIA EN EXPEDIENTE" }
                ],
                "5¬∫ A": [
                    { nombre: "EL GOUCHE, SOHAID", observacion: "SENTENCIA EN EXPEDIENTE/ORDEN ALEJAMIENTO" },
                    { nombre: "GONZ√ÅLEZ ALCARAZ, ULISES", observacion: "SENTENCIA EN EXPEDIENTE" },
                    { nombre: "ORILL√ìN GRANDE, ABRIL", observacion: "CONVENIO REGULADOR" },
                    { nombre: "RAMOS P√âREZ, ABRAHAM", observacion: "NO ENTREGA NADA" }
                ],
                "5¬∫ B": [
                    { nombre: "C√ÅRDENAS MACARRO, MARTA", observacion: "SENTENCIA EN EXPEDIENTE" },
                    { nombre: "CASADO GODOY, NAZARET", observacion: "RESOLUCI√ìN DE DESAMPARO" },
                    { nombre: "DOM√çNGUEZ SU√ÅREZ, DANIEL", observacion: "SENTENCIA EN EXPEDIENTE" }
                ],
                "6¬∫ A": [
                    { nombre: "C√ÅRDENAS MACARRO, F√âLIX", observacion: "SENTENCIA EN EXPEDIENTE HNA" },
                    { nombre: "DELGADO PAVON, DAVID", observacion: "NO ENTREGA NADA" },
                    { nombre: "FLORES COLLADO, VIOLETA", observacion: "Sin informaci√≥n" },
                    { nombre: "GIL ROLD√ÅN, √ÅNGEL", observacion: "SENTENCIA EN EXPEDIENTE" },
                    { nombre: "J√âREZ HERN√ÅNDEZ, DAVID", observacion: "NO ENTREGA NADA" },
                    { nombre: "TEBA D√çAZ, CARLA", observacion: "NO ENTREGA NADA" }
                ],
                "6¬∫ B": []
            },
            matinal: {
                "INFANTIL 3 A√ëOS A": [
                    { nombre: "DOM√çNGUEZ CUESTA, LAURA", telefonos: "665817568//637375038" },
                    { nombre: "LIM√ìN MIRANDA, ALBERTO", telefonos: "664504367//603674748" },
                    { nombre: "RODR√çGUEZ LAGARES, MARTINA", telefonos: "617552870" }
                ],
                "INFANTIL 3 A√ëOS B": [
                    { nombre: "D√çAZ MART√çNEZ, MANUEL", telefonos: "647177753//661226755" },
                    { nombre: "DUR√ÅN VALQUI, MATHIAS GABRIEL", telefonos: "641028876//610241108" },
                    { nombre: "JARILLO CORT√âS, MANUEL", telefonos: "722736370//639248122" },
                    { nombre: "LEPE HUELVA, VALERIA", telefonos: "645637046//671934340" },
                    { nombre: "LEPE VILLAR√ÅN, NAZARET", telefonos: "620313846//600860026" },
                    { nombre: "MEDRANO GARRIDO, MANUEL", telefonos: "620767232//619434078" }
                ],
                "INFANTIL 4 A√ëOS A": [
                    { nombre: "AVILA MORENO, ALEJANDRO", telefonos: "675723259//616422508" },
                    { nombre: "D√çAZ RUIZ, √ÅNGEL", telefonos: "628569387//636828596" },
                    { nombre: "JARILLO CORT√âS, LOLA", telefonos: "722736370//639248122" },
                    { nombre: "PAVON RUBIO, CANDELA", telefonos: "663380383//625914502" },
                    { nombre: "TERREROS LAGARES, √ÅNGEL", telefonos: "652993567//628001085" }
                ],
                "INFANTIL 4 A√ëOS B": [],
                "INFANTIL 5 A√ëOS A": [],
                "INFANTIL 5 A√ëOS B": [
                    { nombre: "MIRANDA RUIZ, LUIS", telefonos: "651664331//620444192" }
                ],
                "1¬∫ A": [
                    { nombre: "D√çAZ SANTO, ALEJANDRO", telefonos: "627269835//618343512" },
                    { nombre: "DOM√çNGUEZ CUESTA, ANIBAL", telefonos: "665817568//637375038" },
                    { nombre: "GIL GIL, NATALIA", telefonos: "605248986" },
                    { nombre: "GONZ√ÅLEZ MORALES, CURRO", telefonos: "615635056//605817110" }
                ],
                "1¬∫ B": [
                    { nombre: "BUENO F√âLIX, JUAN", telefonos: "680227965//606673073" },
                    { nombre: "BUENO F√âLIX, MAR√çA", telefonos: "680227965//606673073" },
                    { nombre: "CORONEL DELGADO, LAURA", telefonos: "654125826//661249223" },
                    { nombre: "DOM√çNGUEZ SU√ÅREZ, NURIA", telefonos: "679710310//661978227" },
                    { nombre: "ROSALES VAN ESSCHES, LUCAS", telefonos: "659336587//676446527" }
                ],
                "2¬∫ A": [
                    { nombre: "CORONEL DELGADO, LUC√çA", telefonos: "654125826//661249223" },
                    { nombre: "SALAS RUBIO, CARMEN", telefonos: "635011003//686982370" }
                ],
                "2¬∫ B": [
                    { nombre: "CALLE RODR√çGUEZ, DANIELA", telefonos: "695916104//675972763" },
                    { nombre: "DOM√çNGUEZ SORIANO, ALBA", telefonos: "616886824//627170470" },
                    { nombre: "GARRIDO RUBIO, FRANCISCO SAN JUAN", telefonos: "635407944//615426509" },
                    { nombre: "S√ÅNCHEZ P√âREZ, GERM√ÅN", telefonos: "617416164//667647200" }
                ],
                "3¬∫ A": [
                    { nombre: "BLAS CASCO, LUCA", telefonos: "617284635//615264923" },
                    { nombre: "LAGARES ALAN√çS, MARINA", telefonos: "696886212//639839029" },
                    { nombre: "MIRANDA RUIZ, ELENA", telefonos: "651664331//620444192" },
                    { nombre: "REBOLLO PRADES, LEO", telefonos: "658494701//617091490" }
                ],
                "3¬∫ B": [
                    { nombre: "G√ìMEZ DOM√çNGUEZ, LAURA", telefonos: "684010984//660424297" },
                    { nombre: "CASADO GODOY, ROSA", telefonos: "685848351//656973302" },
                    { nombre: "LEPE VILLAR√ÅN, CARLOTA", telefonos: "620313846//600860026" },
                    { nombre: "LOPEZ MORALES, ANTONIO JOS√â", telefonos: "655767673//625168808" },
                    { nombre: "LOPEZ MORALES, ISABEL", telefonos: "655767673//625168808" }
                ],
                "4¬∫ A": [
                    { nombre: "D√çAZ MART√çNEZ, ALEJANDRA", telefonos: "647177753//661226755" },
                    { nombre: "D√çAZ RU√çZ, PATRICIA", telefonos: "677993945//677993914" },
                    { nombre: "D√çAZ RU√çZ, RUB√âN", telefonos: "628569387//636828596" },
                    { nombre: "LOPEZ MORALES, ALBERTO", telefonos: "655767673//625168808" }
                ],
                "4¬∫ B": [],
                "5¬∫ A": [
                    { nombre: "BECERRA AVILA, NACHO", telefonos: "658694235//658694236" },
                    { nombre: "LOPEZ MORALES, ISIDRO JOS√â", telefonos: "655767673//625168808" },
                    { nombre: "ORILL√ìN GRANDE, ABRIL", telefonos: "677079591" }
                ],
                "5¬∫ B": [
                    { nombre: "CALVO BARRERO, CARMEN", telefonos: "666683400//693013980" },
                    { nombre: "CASADO GODOY, NAZARET", telefonos: "685848351//656973302" },
                    { nombre: "DOMINGUEZ SUAREZ, DANIEL", telefonos: "679710310//661978227" }
                ],
                "6¬∫ A": [],
                "6¬∫ B": [
                    { nombre: "AVILA MORENO, ALBA", telefonos: "675723259//616422508" },
                    { nombre: "REBOLLO PRADES, HUGO", telefonos: "658494701//617091490" }
                ]
            },
            comedor: {
                "INFANTIL 3 A√ëOS A": [
                    { nombre: "REYES GARC√çA, BRUNO", telefonos: "647035761//677808316" },
                    { nombre: "RODR√çGUEZ LAGARES, MARTINA", telefonos: "617552870//610795961" }
                ],
                "INFANTIL 3 A√ëOS B": [
                    { nombre: "D√çAZ MART√çNEZ, MANUEL", telefonos: "647177753//661226755" },
                    { nombre: "DUR√ÅN VALQUI, MATHIAS GABRIEL", telefonos: "641028876//610241108" },
                    { nombre: "GONZ√ÅLEZ BARROSO, JULIA", telefonos: "635272237//659356639" },
                    { nombre: "JARILLO CORT√âS, MANUEL", telefonos: "722736370//639248122" },
                    { nombre: "LEPE HUELVA, VALERIA", telefonos: "645637046//671934340" },
                    { nombre: "LEPE VILLAR√ÅN, NAZARET", telefonos: "620313846//600860026" },
                    { nombre: "MEDRANO GARRIDO, MANUEL", telefonos: "620767232//619434078" },
                    { nombre: "VAS POCLUSAN, ROZA MAR√çA", telefonos: "642959308//642076728" }
                ],
                "INFANTIL 4 A√ëOS A": [
                    { nombre: "AVILA MORENO, ALEJANDRO", telefonos: "675723259//616422508" },
                    { nombre: "D√çAZ RUIZ, √ÅNGEL", telefonos: "628569387//636828596" },
                    { nombre: "JARILLO CORT√âS, LOLA", telefonos: "722736370//639248122" },
                    { nombre: "LEPE DELGADO, MARTA", telefonos: "672341437//635553074" },
                    { nombre: "TERREROS LAGARES, √ÅNGEL", telefonos: "652993567//628001085" }
                ],
                "INFANTIL 4 A√ëOS B": [
                    { nombre: "SOFIA ADAM", telefonos: "642287054//642039850" },
                    { nombre: "FATIMA EZZAHRA BAHOU", telefonos: "632363294//642384784" },
                    { nombre: "CARMEN BENJUMEA DOM√çNGUEZ", telefonos: "661249014" }
                ],
                "INFANTIL 5 A√ëOS A": [
                    { nombre: "INFANTE L√ìPEZ, CLARA", telefonos: "676144162//635999038" }
                ],
                "INFANTIL 5 A√ëOS B": [
                    { nombre: "ALONSO HURTADO, MANUEL", telefonos: "608849381//653773246" },
                    { nombre: "MIRANDA RUIZ, LUIS", telefonos: "651664331//620444192" }
                ],
                "1¬∫A": [
                    { nombre: "PABLO D√çAZ", telefonos: "617286084" },
                    { nombre: "MARTINA PAVON", telefonos: "600068787" }
                ],
                "1¬∫B": [
                    { nombre: "JORDAN C√ìRDOBA", telefonos: "624496636" },
                    { nombre: "LOUAY EL GOUCHE", telefonos: "641420653" },
                    { nombre: "NATALIA GIL", telefonos: "605248986" },
                    { nombre: "CURRO GONZ√ÅLEZ MORALES", telefonos: "615635056//605817110" },
                    { nombre: "SAMI LAHMIDI", telefonos: "642964993" },
                    { nombre: "ESTHER P√âREZ GARC√çA", telefonos: "661273933" }
                ],
                "2¬∫ A": [
                    { nombre: "LUC√çA CORONEL DELGADO", telefonos: "654125826" },
                    { nombre: "HUGO CORONEL LOBO", telefonos: "654866474" },
                    { nombre: "DAMIAN DIAZ CARO", telefonos: "605955245" },
                    { nombre: "GONZALO ESCUDERO C√ÅRDENAS", telefonos: "691542901" },
                    { nombre: "JAVIER LEPE MART√çNEZ", telefonos: "615990195" },
                    { nombre: "ROC√çO MILL√ÅN √ÅLVAREZ", telefonos: "685200698" }
                ],
                "2¬∫ B": [
                    { nombre: "DANIELA CALLE RODR√çGUEZ", telefonos: "695916104//675972763" },
                    { nombre: "FRANCISCO J. GARRIDO RUBIO", telefonos: "635407944" }
                ],
                "3¬∫ A": [
                    { nombre: "RADU RODR√çGUEZ, HUGO NICOL√ÅS", telefonos: "643166608//642628053" },
                    { nombre: "MIRANDA RUIZ, ELENA", telefonos: "651664331//620444192" },
                    { nombre: "LAGARES ALAN√çS, MARINA", telefonos: "696886212//639839029" },
                    { nombre: "REBOLLO PRADES, LEO", telefonos: "658494701//617091490" }
                ],
                "3¬∫ B": [
                    { nombre: "G√ìMEZ DOM√çNGUEZ, LAURA", telefonos: "684010984//660424297" },
                    { nombre: "CASADO GODOY, ROSA", telefonos: "685848351//656973302" },
                    { nombre: "LEPE VILLAR√ÅN, CARLOTA", telefonos: "620313846//600860026" },
                    { nombre: "LOPEZ MORALES, ANTONIO", telefonos: "655767673//625168808" },
                    { nombre: "LOPEZ MORALES, ISABEL", telefonos: "655767673//625168808" }
                ],
                "4¬∫ A": [
                    { nombre: "D√çAZ MART√çNEZ, ALEJANDRA", telefonos: "647177753//661226755" },
                    { nombre: "DIAZ RUIZ, PATRICIA", telefonos: "747408651//959400189" },
                    { nombre: "DIAZ RU√çZ, RUB√âN", telefonos: "628569387//636828596" },
                    { nombre: "LOPEZ MORALES, ALBERTO", telefonos: "655767673//625168808" }
                ],
                "4¬∫ B": [
                    { nombre: "MARCOS C√ÅRDENAS G√ìMEZ", telefonos: "617841799" },
                    { nombre: "ALI GHANMI MANSOUR", telefonos: "641969683" },
                    { nombre: "ISMAIL LAHMIDI", telefonos: "642964993" },
                    { nombre: "CAYETANO MILL√ÅN √ÅLVAREZ", telefonos: "685200698" }
                ],
                "5¬∫ A": [
                    { nombre: "ABRAHAM RAMOS", telefonos: "663885933" }
                ],
                "5¬∫ B": [
                    { nombre: "ANTONIO M√ÅRQUEZ CEPEDA", telefonos: "609927149" },
                    { nombre: "ABRIL MEDINA LEPE", telefonos: "651833603" },
                    { nombre: "CLAUDIA RAMOS ALAN√çS", telefonos: "627536639" },
                    { nombre: "ENZO GANDULO PALACIO", telefonos: "619966390" }
                ],
                "6¬∫ A": [
                    { nombre: "DAVID JEREZ HERN√ÅNDEZ", telefonos: "652105292" },
                    { nombre: "SERGIO RAM√çREZ PINTO", telefonos: "647719477" },
                    { nombre: "DAVID VERDE LIM√ìN", telefonos: "641455738" }
                ],
                "6¬∫ B": [
                    { nombre: "ADRIANA D√çAZ RU√çZ", telefonos: "605622002" },
                    { nombre: "√ÅLVARO MART√çN HERN√ÅNDEZ", telefonos: "656468571" },
                    { nombre: "FRANCISCO J MILLAN √ÅLVAREZ", telefonos: "685200698" },
                    { nombre: "NOA RODRIGUEZ MILL√ÅN", telefonos: "600700353" }
                ]
            },
            alergias: {
                "INFANTIL 3 A√ëOS A": [
                    { nombre: "CRISTO PACHECO, AINHOA", tipo: "Alergia", detalle: "Al huevo, rebozados, bizcochos‚Ä¶", telefono: "687-570111" },
                    { nombre: "CARMEN DELGADO MORENO", tipo: "Alergia", detalle: "Antibi√≥tico: azitromicina", telefono: "668-562523" },
                    { nombre: "GONZALO MART√çN MART√çNEZ", tipo: "Alergia", detalle: "Alergia a la proteina de la leche de vaca", telefono: "691-493518" },
                    { nombre: "RODR√çGUEZ LAGARES, MARTINA", tipo: "Alergia", detalle: "Alergia al brocoli", telefono: "617-552870" },
                    { nombre: "ALICIA ROJAS M√âNDEZ", tipo: "Enfermedad", detalle: "soplo coraz√≥n(revisiones)", telefono: "645-211248" }
                ],
                "INFANTIL 3 A√ëOS B": [
                    { nombre: "JARILLO CORT√âS, MANUEL", tipo: "Alergia", detalle: "Alergia y Asma (singulair y ventol√≠n)", telefono: "722-736370" }
                ],
                "INFANTIL 4 A√ëOS A": [
                    { nombre: "CRISTO ORIHUELA, IRIA", tipo: "Alergia", detalle: "verduras hojas verdes, brocoli, espinacas", telefono: "685-849532" },
                    { nombre: "D√çAZ RU√çZ, √ÅNGEL", tipo: "Enfermedad", detalle: "Encefalopat√≠a hipoxico-Isqu√©mica moderada(recibe terapia fisioterapeuta)", telefono: "628-569387" },
                    { nombre: "JARILLO CORT√âS, LOLA", tipo: "Alergia", detalle: "Al√©rgica(tratamiento para alergia) y Asm√°tica (Ventolin cuando es necesario y pastilla diaria)", telefono: "722-736370" },
                    { nombre: "LAGARES MORENO, MIGUEL", tipo: "Alergia", detalle: "Lactosa", telefono: "657-740324" },
                    { nombre: "LEPE PINEDA, VALENTINA", tipo: "Enfermedad", detalle: "Operaci√≥n en craneo/Utiliza en ocasiones casco de protecci√≥n, prueba de control cada 6 meses", telefono: "611-004229" }
                ],
                "INFANTIL 4 A√ëOS B": [
                    { nombre: "ADAM, SOFIA", tipo: "Alergia", detalle: "Lactosa (sensibilidad leche)", telefono: "642-287054" },
                    { nombre: "BAHOU, FATIMA EZZAHRA", tipo: "Alergia", detalle: "Alimentos ultraprocesados (galletas, dulces‚Ä¶)", telefono: "632-363294" },
                    { nombre: "BENJUMEA DOM√çNGUEZ, CARMEN", tipo: "Enfermedad", detalle: "Luxaci√≥n de la cabeza de radio", telefono: "661-249014" }
                ],
                "INFANTIL 5 A√ëOS A": [
                    { nombre: "D√çAZ BECERRIL, JAVIER", tipo: "Alergia", detalle: "ibuprofeno", telefono: "663-585521" }
                ],
                "INFANTIL 5 A√ëOS B": [
                    { nombre: "DOMINGUEZ MORENO, LUIS CARLOS", tipo: "Enfermedad", detalle: "Hipotireidismo cong√©nito (EUTIROX )", telefono: "618-269180" },
                    { nombre: "RODR√çGUEZ CARO, CANDELA", tipo: "Enfermedad", detalle: "PFAPA", telefono: "695-631166" }
                ],
                "1¬∫ A": [
                    { nombre: "C√ìRDOBA, JORDAN", tipo: "Enfermedad", detalle: "Ipospadia/ Hernia", telefono: "624-496636" },
                    { nombre: "EL GOUCHE, LOUAY", tipo: "Enfermedad", detalle: "Coraz√≥n", telefono: "641-420653" },
                    { nombre: "GIL, NATALIA", tipo: "Alergia", detalle: "Alergia al gluten", telefono: "605-248986" },
                    { nombre: "GONZ√ÅLEZ MORALES, CURRO", tipo: "Alergia", detalle: "Alergias Melocot√≥n y a la piel de cualquier fruta, acaros, olivo, graminia, perro (vacuna)", telefono: "615-635056" },
                    { nombre: "LAHMIDI, SAMI", tipo: "Alergia", detalle: "Al√©rgico al huevo y la leche", telefono: "642-964993" },
                    { nombre: "P√âREZ GARC√çA, ESTHER", tipo: "Alergia", detalle: "Intolerancia a la Lactosa", telefono: "661-273933" }
                ],
                "1¬∫ B": [
                    { nombre: "D√çAZ, PABLO", tipo: "Alergia", detalle: "Melocot√≥n/frutos secos Proteina PLH", telefono: "617-286084" },
                    { nombre: "PAVON, MARTINA", tipo: "Enfermedad", detalle: "Retraso Lenguaje", telefono: "600-068787" }
                ],
                "2¬∫ A": [
                    { nombre: "CORONEL DELGADO, LUC√çA", tipo: "Alergia", detalle: "Amoxicilina", telefono: "654-125826" },
                    { nombre: "CORONEL LOBO, HUGO", tipo: "Alergia", detalle: "Amoxicilina", telefono: "654-866474" },
                    { nombre: "DIAZ CARO, DAMIAN", tipo: "Alergia", detalle: "Alergia inespec√≠fica (Inhaladores y cremas piel)", telefono: "605-955245" },
                    { nombre: "ESCUDERO C√ÅRDENAS, GONZALO", tipo: "Alergia", detalle: "Alerg√≠a (vacuna)", telefono: "691-542901" },
                    { nombre: "LEPE MART√çNEZ, JAVIER", tipo: "Enfermedad", detalle: "ENFERMEDAD NEUROMUSCULAR. DISTROFIA MUSCULAR ALFADISTROGLICANOPATIA", telefono: "615-990195" },
                    { nombre: "MILL√ÅN √ÅLVAREZ, ROC√çO", tipo: "Alergia", detalle: "Amoxicilina/ Operada trato m√°s inmaduro ov√°rico, seguimiento peri√≥dico", telefono: "685-200698" }
                ],
                "2¬∫ B": [
                    { nombre: "CALLE RODR√çGUEZ, DANIELA", tipo: "Alergia", detalle: "Alergia √°caros en almacenamiento", telefono: "695-916104" },
                    { nombre: "GARRIDO RUBIO, FRANCISCO J.", tipo: "Alergia", detalle: "Alergia √°caros", telefono: "635-407944" }
                ],
                "3¬∫ A": [
                    { nombre: "MART√çNEZ ALINDADO, ELISA", tipo: "Alergia", detalle: "Le est√°n haciendo pruebas de intolerancias", telefono: "695-698873" },
                    { nombre: "MART√çNEZ MORENO, JAIRO", tipo: "Alergia", detalle: "Amoxicilina", telefono: "660-728024" },
                    { nombre: "MORENO AVILA, MANUEL", tipo: "Enfermedad", detalle: "Alopecia areata (protopic)", telefono: "674-336292" },
                    { nombre: "MORENO, √ÅNGELA", tipo: "Enfermedad", detalle: "Fritos, Az√∫cares, Grasas, Alimentos integrales, verduras hoja larga Y Crohn (Azatioprina y mesalazina)", telefono: "637-2111393" },
                    { nombre: "D√çAZ MENDOZA, ANTONIO J", tipo: "Enfermedad", detalle: "Monteluca para la bronquitis", telefono: "654-721620" },
                    { nombre: "RAMOS RUBIO, MANUEL", tipo: "Alergia", detalle: "Celiaco cr√≥nico. A todos los slimentos contengan gluten", telefono: "615-438018" },
                    { nombre: "VILLATOROS, LUC√çA", tipo: "Alergia", detalle: "Frutos Secos (Nueces y Cacahuetes)", telefono: "649-284475" }
                ],
                "3¬∫ B": [
                    { nombre: "CRISTO, ABRIL", tipo: "Alergia", detalle: "Piel at√≥pica y delicada (Las toallitas de beb√©s en la carita le producen alergia)", telefono: "687-570111" },
                    { nombre: "LEPE, MAR√çA", tipo: "Enfermedad", detalle: "Distrofia Muscular", telefono: "615-990195" },
                    { nombre: "MORENO CAMACHO, LUIS", tipo: "Alergia", detalle: "Alergia (√°caros) vacuna alergia mensual", telefono: "615-103408" },
                    { nombre: "P√âREZ DORADO, ALBA", tipo: "Enfermedad", detalle: "Fenilcetonuria (Dieta espec√≠ficay suplementos)", telefono: "629-276536" }
                ],
                "4¬∫ A": [
                    { nombre: "MACIAS FLORES, ANA", tipo: "Enfermedad", detalle: "Olivo y piel melocot√≥n/ Tiene una v√°lvula bic√∫spide que anualmente hay que revisar y por ahora no reviste gravedad (Antiestam√≠nicos)", telefono: "655-765012" },
                    { nombre: "D√çAZ RUIZ, RUB√âN", tipo: "Alergia", detalle: "Olivo (Tratamiento para la alergia)", telefono: "628-569387" }
                ],
                "4¬∫ B": [
                    { nombre: "C√ÅRDENAS G√ìMEZ, MARCOS", tipo: "Alergia", detalle: "Alergia al polen (Vacuna alergia y pastillas alergia) y Asma", telefono: "617-841799" },
                    { nombre: "GHANMI MANSOUR, ALI", tipo: "Alergia", detalle: "Alergia al polen", telefono: "641-969683" },
                    { nombre: "LAHMIDI, ISMAIL", tipo: "Alergia", detalle: "Asma", telefono: "642-964993" },
                    { nombre: "MILL√ÅN √ÅLVAREZ, CAYETANO", tipo: "Enfermedad", detalle: "TEA grado 1, crisis de ausencia (Depakine)", telefono: "685-200698" }
                ],
                "5¬∫ A": [
                    { nombre: "RAMOS, ABRAHAM", tipo: "Alergia", detalle: "Intolerancia a la Lactosa", telefono: "663-885933" }
                ],
                "5¬∫ B": [
                    { nombre: "M√ÅRQUEZ CEPEDA, ANTONIO", tipo: "Alergia", detalle: "Alergia(Ebastel y en ocasiones ventolin) Flumil y Fluidasa", telefono: "609-927149" },
                    { nombre: "MEDINA LEPE, ABRIL", tipo: "Enfermedad", detalle: "Hormonas para crecimiento", telefono: "651-833603" },
                    { nombre: "RAMOS ALAN√çS, CLAUDIA", tipo: "Alergia", detalle: "Amoxicilina", telefono: "627-536639" },
                    { nombre: "GANDULO PALACIO, ENZO", tipo: "Alergia", detalle: "Alergia Abispas y Abejas (Tratamiento Adrenalina)", telefono: "619-966390" }
                ],
                "6¬∫ A": [
                    { nombre: "JEREZ HERN√ÅNDEZ, DAVID", tipo: "Enfermedad", detalle: "S√≠ndrome de Tourette(Terapias espec√≠ficas)", telefono: "652-105292" },
                    { nombre: "RAM√çREZ PINTO, SERGIO", tipo: "Alergia", detalle: "Clara de Huevo", telefono: "647-719477" },
                    { nombre: "VERDE LIM√ìN, DAVID", tipo: "Alergia", detalle: "Intolerancia a la lactosa", telefono: "641-455738" }
                ],
                "6¬∫ B": [
                    { nombre: "D√çAZ RU√çZ, ADRIANA", tipo: "Enfermedad", detalle: "Hormonas del crecimiento", telefono: "605-622002" },
                    { nombre: "MART√çN HERN√ÅNDEZ, √ÅLVARO", tipo: "Alergia", detalle: "Alergia al olivo Y Fotofobia y tralaci√≥n metam√©rica espalda", telefono: "656-468571" },
                    { nombre: "MILLAN √ÅLVAREZ, FRANCISCO J", tipo: "Alergia", detalle: "Intolerante a la lactosa, cacahuetes, anisakis, clara huevo, Amoxicilina Penicil y Asma (Aerosol, montelukasy vacunamensual)", telefono: "685-200698" },
                    { nombre: "RODRIGUEZ MILL√ÅN, NOA", tipo: "Alergia", detalle: "Alergia y Asma (Aerosoles)", telefono: "600-700353" }
                ]
            },
            extraescolares: {
                "PSICOMOTRICIDAD": {
                    "INFANTIL 3 A√ëOS A": [
                        { nombre: "Delgado Moreno, Carmen", curso: "Inf. 3 a√±os A", telefonos: "668562523" },
                        { nombre: "Lagares Medrano, Thiago", curso: "Inf. 3 a√±os A", telefonos: "651721178" },
                        { nombre: "Lim√≥n Miranda, Alberto", curso: "Inf. 3 a√±os A", telefonos: "664504367//603674748" },
                        { nombre: "Pichardo Ru√≠z, Julia", curso: "Inf. 3 a√±os A", telefonos: "670302786//661710459" },
                        { nombre: "Rasgado Montes, √Ångela", curso: "Inf. 3 a√±os A", telefonos: "662457736" },
                        { nombre: "Reyes Garc√≠a, Bruno", curso: "Inf. 3 a√±os A", telefonos: "647035761//677808316" },
                        { nombre: "Rodr√≠guez Lagares, Martina", curso: "Inf. 3 a√±os A", telefonos: "617552870//610795961" },
                        { nombre: "Soriano Su√°rez, Alberto", curso: "Inf. 3 a√±os A", telefonos: "653266033//652280169" },
                        { nombre: "Yactayo Casabona, Logan Derek", curso: "Inf. 3 a√±os A", telefonos: "614171335//647808746" }
                    ],
                    "INFANTIL 3 A√ëOS B": [
                        { nombre: "Dur√°n Valqui, Mathias Gabriel", curso: "Inf. 3 a√±os B", telefonos: "641028876//610241108" },
                        { nombre: "Lepe Huelva, Valeria", curso: "Inf. 3 a√±os B", telefonos: "645637046//671934340" },
                        { nombre: "Medrano Garrido, Manuel", curso: "Inf. 3 a√±os B", telefonos: "620767232//619434078" },
                        { nombre: "Medrano Cascales, Marina", curso: "Inf. 3 a√±os B", telefonos: "605216647" },
                        { nombre: "Moreno Garrido, Isabel", curso: "Inf. 3 a√±os B", telefonos: "622701922//626291794" },
                        { nombre: "Rold√°n C√°rdenas, Manuel", curso: "Inf. 3 a√±os B", telefonos: "610999684//618438016" },
                        { nombre: "Gonz√°lez Barroso, Julia", curso: "Inf. 3 a√±os B", telefonos: "635272237//659356639" },
                        { nombre: "Delgado Pichardo, Julia", curso: "Inf. 3 a√±os B", telefonos: "693655616//608613110" },
                        { nombre: "D√≠az Espina, Daniel", curso: "Inf. 3 a√±os B", telefonos: "617286084//662009507" },
                        { nombre: "Lepe Villar√°n, Nazaret", curso: "Inf. 3 a√±os B", telefonos: "620313846//600860026" },
                        { nombre: "Jarillo Cort√©s, Manuel", curso: "Inf. 3 a√±os B", telefonos: "722736370//639248122" }
                
                    ],
                    "INFANTIL 4 A√ëOS A": [
                        { nombre: "D√≠az del Toro, Mateo", curso: "Inf. 4 a√±os A", telefonos: "655260083//685147838" },
                        { nombre: "Lepe Pineda, Valentina", curso: "Inf. 4 a√±os A", telefonos: "611004229//663940809" },
                        { nombre: "Calvo Bald√°n, Jimena", curso: "Inf. 4 a√±os A", telefonos: "636455139//603832998" },
                        { nombre: "Pav√≥n Rubio, Candela", curso: "Inf. 4 a√±os A", telefonos: "663380383//625914502" },
                        { nombre: "Lepe Delgado, Marta", curso: "Inf. 4 a√±os A", telefonos: "672341437//635553074" },
                        { nombre: "√Åvila Moreno, Alejandro", curso: "Inf. 4 a√±os A", telefonos: "675723259//616422508" },
                        { nombre: "Dom√≠nguez Ram√≠rez, Sof√≠a", curso: "Inf. 4 a√±os", telefonos: "9162//605129162" },
                        { nombre: "Chirino Pav√≥n, Jorge", curso: "Inf. 4 a√±os A", telefonos: "617278967//687743162" },
                        { nombre: "Caro Montes, Julia", curso: "Inf. 4 a√±os A", telefonos: "692251989//647433849" },
                        { nombre: "Beller√≠n Mill√°n, Jimena", curso: "Inf. 4 a√±os A", telefonos: "656408276//603769779" },
                        { nombre: "Cobzariu, Anais-Nerea", curso: "Inf. 4 a√±os A", telefonos: "642796659//642739386" }
                    ],
                    "INFANTIL 4 A√ëOS B": [
                        { nombre: "Bahou, Fatima Ezzahra", curso: "Inf. 4 a√±os B", telefonos: "632363294//642384784" },
                        { nombre: "Rodr√≠guez Su√°rez, Jes√∫s", curso: "Inf. 4 a√±os B", telefonos: "685166118//658369150" },
                        { nombre: "Cruces Rodr√≠guez, Hugo", curso: "Inf. 4 a√±os B", telefonos: "643496590//624868519" },
                        { nombre: "Gonz√°lez Torres, Irene", curso: "Inf. 4 a√±os B", telefonos: "699236834//625809388" },
                        { nombre: "Mart√≠nez Su√°rez, Lola", curso: "Inf. 4 a√±os B", telefonos: "699821500//663418246" },
                        { nombre: "√Ålvarez Dom√≠nguez, Pablo", curso: "Inf. 4 a√±os B", telefonos: "695596456//656559611" },
                        { nombre: "Verano Qui√±ones, Mart√≠n", curso: "Inf. 4 a√±os B", telefonos: "618170726" }
                    ],
                    "INFANTIL 5 A√ëOS A": [
                        { nombre: "Garc√≠a Acu√±a, Camila", curso: "Inf. 5 a√±os A", telefonos: "643108373" },
                        { nombre: "Infante L√≥pez, Clara", curso: "Inf. 5 a√±os A", telefonos: "676144162//635999038" },
                        { nombre: "Cobzariu, Eric", curso: "Inf. 5 a√±os A", telefonos: "642796659" },
                        { nombre: "Pav√≥n Vicente, H√©ctor", curso: "Inf. 5 a√±os A", telefonos: "649750124//690952361" }
                    ],
                    "INFANTIL 5 A√ëOS B": [
                        { nombre: "Mart√≠nez Ram√≠rez, Jorge", curso: "Inf. 5 a√±os B", telefonos: "675356589//692947065" },
                        { nombre: "Gonz√°lez Barroso, Lucas", curso: "Inf. 5 a√±os B", telefonos: "635272237//659356639" },
                        { nombre: "Cobzariu, Eric", curso: "Inf. 5 a√±os A", telefonos: "642796659//642739386" }
                    ]
                },
                "MANUALIDADES": {
                    "INFANTIL 3 A√ëOS A": [
                        { nombre: "Delgado Moreno, Carmen", curso: "infantil 3 a√±os", telefonos: "668562523" },
                        { nombre: "Soriano Su√°rez, Alberto", curso: "Inf. 3 a√±os A", telefonos: "653266033//652280169" },
                        { nombre: "Lagares Medrano, Thiago", curso: "Infantil 3 a√±os", telefonos: "651721178" },
                        { nombre: "Yactayo Casabona, Logan Derek", curso: "Inf. 3 a√±os A", telefonos: "614171335//647808746" },
                        { nombre: "Lim√≥n Miranda, Alberto", curso: "Inf. 3 a√±os A", telefonos: "664504367//603674748" },
                        { nombre: "Pichardo Ru√≠z, Julia", curso: "Inf. 3 a√±os A", telefonos: "670302786//661710459" },
                        { nombre: "Rasgado Montes, √Ångela", curso: "infnatil 3 a√±os", telefonos: "662457736" },
                        { nombre: "Reyes Garc√≠a, Bruno", curso: "Inf. 3 a√±os A", telefonos: "647035761//677808316" },
                        { nombre: "Rodr√≠guez Lagares, Martina", curso: "Inf. 3 a√±os A", telefonos: "617552870//610795961" }
                    ],
                    "INFANTIL 3 A√ëOS B": [
                        { nombre: "Dur√°n Valqui, Mathias Gabriel", curso: "Inf. 3 a√±os B", telefonos: "641028876//610241108" },
                        { nombre: "Lepe Huelva, Valeria", curso: "Inf. 3 a√±os B", telefonos: "645637046//671934340" },
                        { nombre: "Medrano Cascales, Marina", curso: "infantil 3 a√±os", telefonos: "605216647" },
                        { nombre: "Medrano Garrido, Manuel", curso: "Inf. 3 a√±os B", telefonos: "620767232//619434078" },
                        { nombre: "Moreno Garrido, Isabel", curso: "Inf. 3 a√±os B", telefonos: "622701922//626291794" },
                        { nombre: "Pav√≥n Vicente, H√©ctor", curso: "Inf. 5 a√±os A", telefonos: "649750124//690952361" },
                        { nombre: "Rold√°n C√°rdenas, Manuel", curso: "Inf. 3 a√±os B", telefonos: "610999684//618438016" },
                        { nombre: "Gonz√°lez Barroso, Julia", curso: "Inf. 3 a√±os B", telefonos: "635272237//659356639" },
                        { nombre: "Delgado Pichardo, Julia", curso: "Inf. 3 a√±os B", telefonos: "693655616//608613110" },
                        { nombre: "D√≠az Espina, Daniel", curso: "Inf. 3 a√±os B", telefonos: "617286084//662009507" },
                        { nombre: "Lepe Villar√°n, Nazaret", curso: "Inf. 3 a√±os B", telefonos: "620313846//600860026" },
                        { nombre: "Jarillo Cort√©s, Manuel", curso: "Inf. 3 a√±os B", telefonos: "722736370//639248122" }
                    ],
                    "INFANTIL 4 A√ëOS A": [
                        { nombre: "D√≠az del Toro, Mateo", curso: "Inf. 4 a√±os A", telefonos: "655260083//685147838" },
                        { nombre: "Lepe Pineda, Valentina", curso: "Inf. 4 a√±os A", telefonos: "611004229//663940809" },
                        { nombre: "Calvo Bald√°n, Jimena", curso: "Inf. 4 a√±os A", telefonos: "636455139//603832998" },
                        { nombre: "Pav√≥n Rubio, Candela", curso: "Inf. 4 a√±os A", telefonos: "663380383//625914502" },
                        { nombre: "Lepe Delgado, Marta", curso: "Inf. 4 a√±os A", telefonos: "672341437//635553074" },
                        { nombre: "√Åvila Moreno, Alejandro", curso: "Inf. 4 a√±os A", telefonos: "675723259//616422508" },
                        { nombre: "Dom√≠nguez Ram√≠rez, Sof√≠a", curso: "Inf. 4 a√±os", telefonos: "9162//605129162" },
                        { nombre: "Chirino Pav√≥n, Jorge", curso: "Inf. 4 a√±os A", telefonos: "617278967//687743162" },
                        { nombre: "Caro Montes, Julia", curso: "Inf. 4 a√±os A", telefonos: "692251989//647433849" },
                        { nombre: "Beller√≠n Mill√°n, Jimena", curso: "Inf. 4 a√±os A", telefonos: "656408276//603769779" },
                        { nombre: "Infante L√≥pez, Clara", curso: "Inf. 5 a√±os A", telefonos: "676144162//635999038" },
                        { nombre: "Cobzariu, Anais-Nerea", curso: "Inf. 4 a√±os A", telefonos: "642796659//642739386" }
                    ],
                    "INFANTIL 4 A√ëOS B": [
                        { nombre: "Bahou, Fatima Ezzahra", curso: "Inf. 4 a√±os B", telefonos: "632363294//642384784" },
                        { nombre: "Rodr√≠guez Su√°rez, Jes√∫s", curso: "Inf. 4 a√±os B", telefonos: "685166118//658369150" },
                        { nombre: "Cruces Rodr√≠guez, Hugo", curso: "Inf. 4 a√±os B", telefonos: "643496590//624868519" },
                        { nombre: "Gonz√°lez Torres, Irene", curso: "Inf. 4 a√±os B", telefonos: "699236834//625809388" },
                        { nombre: "Mart√≠nez Su√°rez, Lola", curso: "Inf. 4 a√±os B", telefonos: "699821500//663418246" },
                        { nombre: "√Ålvarez Dom√≠nguez, Pablo", curso: "Inf. 4 a√±os B", telefonos: "695596456//656559611" },
                        { nombre: "Verano Qui√±ones, Mart√≠n", curso: "infantil 4 a√±os", telefonos: "618170726" }
                    ],
                    "INFANTIL 5 A√ëOS A": [
                        { nombre: "Garc√≠a Acu√±a, Camila", curso: "infantil 5 a√±os", telefonos: "643108373" },
                        { nombre: "Cobzariu, Eric", curso: "infantil 5 a√±os", telefonos: "642796659" },
                        { nombre: "Pav√≥n Vicente, H√©ctor", curso: "Inf. 5 a√±os A", telefonos: "649750124//690952361" }
                    ],
                    "INFANTIL 5 A√ëOS B": [
                        { nombre: "Mart√≠nez Ram√≠rez, Jorge", curso: "Inf. 5 a√±os B", telefonos: "675356589//692947065" },
                        { nombre: "Gonz√°lez Barroso, Lucas", curso: "Inf. 5 a√±os B", telefonos: "635272237//659356639" },
                        { nombre: "Cobzariu, Eric", curso: "Inf. 5 a√±os A", telefonos: "642796659//642739386" }
                    ]
                },
                "ARTES PL√ÅSTICAS": {
                    "1¬∫ A": [
                        { nombre: "Gil Gil, Natalia", curso: "1¬∫A", telefonos: "605248986" },
                        { nombre: "Pavon Arance, Martina", curso: "1¬∫B", telefonos: "600068787//653066917" },
                        { nombre: "Garc√≠a Verdugo, Mateo", curso: "1¬∫A", telefonos: "675626011//616478826" }
                    ],
                    "2¬∫ B": [
                        { nombre: "S√°nchez Caro, Claudia", curso: "2¬∫B", telefonos: "635805887//657985655" },
                        { nombre: "Coronel Lobo, Hugo", curso: "2¬∫B", telefonos: "654866474" }
                    ],
                    "4¬∫ A": [
                        { nombre: "Cobzariu, Stefan√≠a Mar√≠a", curso: "4¬∫A", telefonos: "642796659//642739386" }
                    ],
                    "4¬∫ B": [
                        { nombre: "Millan √Ålvarez, Cayetano", curso: "4¬∫ B", telefonos: "627936028" }
                    ],
                    "6¬∫ A": [
                        { nombre: "Lim√≥n Infante, Alicia", curso: "6¬∫A", telefonos: "628596280//660118650" }
                    ]
                },
                "TENIS": {
                    "3¬∫ A": [
                        { nombre: "Radu Rodr√≠guez, Hugo Nicol√°s", curso: "3¬∫A", telefonos: "643166608//642628053" }
                    ],
                    "3¬∫ B": [
                        { nombre: "Arteaga Mirkovic, Nicole Alison", curso: "3¬∫B", telefonos: "611396073" }
                    ],
                    "4¬∫ A": [
                        { nombre: "Jordan Su√°rez, Rub√©n", curso: "4¬∫A", telefonos: "680375050//655777187" },
                        { nombre: "Garc√≠a Acu√±a, Adri√°n", curso: "4¬∫A", telefonos: "643108373" }
                    ],
                    "4¬∫ B": [
                        { nombre: "D√≠az √Åvila, Trist√°n", curso: "4¬∫B", telefonos: "687270866" }
                        
                    ],
                    "5¬∫ B": [
                        { nombre: "Zayadi Boubkeur, Abdulah", curso: "5¬∫B", telefonos: "671861497" }
                    ],
                    "6¬∫ A": [
                        { nombre: "Jerez Hern√°ndez, David", curso: "6¬∫A", telefonos: "652105292//615173869" },
                        { nombre: "Verde Lim√≥n, David", curso: "6¬∫A", telefonos: "641455738" }
                    ]
                    
                    
                    
                },
                "INGL√âS PRIMARIA": {
                    "1¬∫ B": [
                        { nombre: "Coronel Delgado, Laura", curso: "1¬∫B", telefonos: "654125826//661249223" },
                        { nombre: "Leal Delgado, Julia", curso: "1¬∫B", telefonos: "654518886//607839501" },
                        { nombre: "Rosales Van Essche, Lucas", curso: "1¬∫B", telefonos: "659336587//676446527" },
                        { nombre: "Calvo Bald√°n, Cayetano", curso: "1¬∫B", telefonos: "636455139//60383" }
                    ],
                    "2¬∫ A": [
                        { nombre: "Coronel Delgado, Luc√≠a", curso: "2¬∫A", telefonos: "654125826//661249223" }
                    ],
                    "2¬∫ B": [
                        { nombre: "Alonso Hurtado, Alexander", curso: "2¬∫B", telefonos: "608849381//653773246" },
                        { nombre: "Dom√≠nguez Soriano, Alba", curso: "2¬∫B", telefonos: "616886824//627170470" },
                        { nombre: "infante L√≥pez, Mart√≠n", curso: "2¬∫B", telefonos: "676144162//63599" }
                    ],
                    "3¬∫ B": [
                        { nombre: "P√©rez Dorado, Alba del Roc√≠o", curso: "3¬∫B", telefonos: "629276536//652106552" },
                        { nombre: "L√≥pez Morales, Isabel", curso: "3¬∫B", telefonos: "625168808//65576" },
                        { nombre: "Moreno Camacho, Lu√≠s", curso: "3¬∫B", telefonos: "615103408//65788" }
                    ],
                    "4¬∫ A": [
                        { nombre: "D√≠az Ru√≠z, Patricia", curso: "4¬∫A", telefonos: "648715818//74740" },
                        { nombre: "Cobzariu, Stefan√≠a Mar√≠a", curso: "4¬∫A", telefonos: "642796659//64273" },
                        { nombre: "Garc√≠a Acu√±a, Adri√°n", curso: "4¬∫A", telefonos: "643108373" },
                        { nombre: "Jordan Su√°rez, Rub√©n", curso: "4¬∫A", telefonos: "680375050//655777187" },
                        { nombre: "Lepe Mart√≠nez, Salvador", curso: "4¬∫A", telefonos: "615990195//615990192" },
                        { nombre: "Molina D√≠az, Lucas", curso: "4¬∫", telefonos: "617416742" }
                    
                    ],
                    "5¬∫ A": [
                        { nombre: "Becerra √Åvila, Nacho", curso: "5¬∫A", telefonos: "658694235//65869" },
                        { nombre: "El Gouche, Shoaid", curso: "5¬∫A", telefonos: "641420653" },
                        { nombre: "L√≥pez Morales, Isidro Jos√©", curso: "5¬∫A", telefonos: "625168808//65576" }
                    ],
                    "5¬∫ B": [
                        { nombre: "Dom√≠nguez Su√°rez, Daniel", curso: "5¬∫B", telefonos: "679-710310//661-" },
                        { nombre: "Zayadi Boubkeur, Abdulah", curso: "5¬∫B", telefonos: "6718614" }
                    ],
                    "6¬∫ B": [
                        { nombre: "Adam, Israe", curso: "6¬∫B", telefonos: "642287054//64203" }
                    ]
                },
                
                "INFORM√ÅTICA PRIMARIA": {
                    "1¬∫ A": [
                        { nombre: "P√©rez Dorado, Elsa Mar√≠a", curso: "1¬∫A", telefonos: "629276536//65210" }
                    ],
                    "1¬∫ B": [
                        { nombre: "Calvo Bald√°n, Cayetano", curso: "1¬∫B", telefonos: "636455139//60383" }
                    ],
                    "2¬∫ B": [
                        { nombre: "infante L√≥pez, Mart√≠n", curso: "2¬∫B", telefonos: "676144162//63599" },
                        { nombre: "S√°nchez Caro, Claudia", curso: "2¬∫B", telefonos: "5887//657985655" }
                    ],
                    "3¬∫ B": [
                        { nombre: "L√≥pez Morales, Isabel", curso: "3¬∫B", telefonos: "625168808//65576" },
                        { nombre: "Moreno Camacho, Lu√≠s", curso: "3¬∫B", telefonos: "615103408//65788" },
                        { nombre: "P√©rez Dorado, Alba del Roc√≠o", curso: "3¬∫B", telefonos: "629276536//652106552" }
                    ],
                    "4¬∫ A": [
                        { nombre: "Cobzariu, Stefania Mar√≠a", curso: "4¬∫A", telefonos: "642796659//642739386" },
                        { nombre: "Jordan Su√°rez, Rub√©n", curso: "4¬∫A", telefonos: "680375050//655777187" },
                        { nombre: "Lepe Mart√≠nez, Salvador", curso: "4¬∫A", telefonos: "615990195//615990192" },
                        { nombre: "Molina D√≠az, Lucas", curso: "4¬∫", telefonos: "617416742" }
                    ],
                    "5¬∫ A": [
                        { nombre: "L√≥pez Morales, Isidro Jos√©", curso: "5¬∫A", telefonos: "625168808//65576" },
                        { nombre: "Becerra √Åvila, Nacho", curso: "5¬∫A", telefonos: "658694235//65869" }
                    ],
                    "5¬∫ B": [
                        { nombre: "Dom√≠nguez Su√°rez, Daniel", curso: "5¬∫B", telefonos: "679-710310//661-" },
                        { nombre: "Zayadi Boubkeur, Abdulah", curso: "5¬∫B", telefonos: "6718614" }
                    ],
                    "6¬∫ A": [
                        { nombre: "Gil Rold√°n, √Ångel", curso: "6¬∫A", telefonos: "688709540//959097532" },
                        { nombre: "Jerez Hern√°ndez, David", curso: "6¬∫A", telefonos: "652105292//615173869" }
                    ],
                    "6¬∫ B": [
                        { nombre: "Adam, Israe", curso: "6¬∫B", telefonos: "642287054//64203" }
                    ]
                },
                "FAME DANCE": {
                    "1¬∫ A": [
                        { nombre: "Gil Gil, Natalia", curso: "1¬∫A", telefonos: "605248986" },
                        { nombre: "Moreno Garrido, Mar√≠a", curso: "1¬∫A", telefonos: "622701922//626291794" }
                    ],
                    "1¬∫ B": [
                        { nombre: "Correa Verdugo, Carlota", curso: "1¬∫B", telefonos: "693758795//666779588" },
                        { nombre: "Dom√≠nguez P√©rez, Malena", curso: "1¬∫B", telefonos: "617241091//651755916" },
                        { nombre: "Pav√≥n Arance, Martina", curso: "1¬∫B", telefonos: "600068787//653066917" }
                    ],
                    "3¬∫ B": [
                        { nombre: "Lepe Mart√≠nez, Mar√≠a", curso: "3¬∫B", telefonos: "615-990195//615-990192" }
                    ],
                    "4¬∫ A": [
                        { nombre: "Cobzariu, Stefan√≠a Mar√≠a", curso: "4¬∫A", telefonos: "642796659//642739386" }
                    ]
                },
                "PATINAJE PRIMARIA": {
                    "1¬∫ A": [
                        { nombre: "Gonz√°lez Torres, Carmen", curso: "1¬∫A", telefonos: "699-236834//625-809388" },
                        { nombre: "Rodr√≠guez Caro, Lola", curso: "1¬∫A", telefonos: "695-631166//662-909675" },
                        { nombre: "Salas Rubio, Carmen", curso: "1¬∫A", telefonos: "635-011003//686-982370" }
                    ],
                    "1¬∫ B": [
                        { nombre: "D√≠az Ru√≠z, Paula", curso: "1¬∫B", telefonos: "605-622002//654-153711" }
                    ],
                    "2¬∫ A": [
                        { nombre: "Ramos Rubio, Manuel", curso: "2¬∫A", telefonos: "615-438018//673-204915" },
                        { nombre: "Moreno L√≥pez, √Ångela", curso: "2¬∫A", telefonos: "637-211939//627-269461" }
                    ],
                    "2¬∫ B": [
                        { nombre: "Alfaro Su√°rez, Greta", curso: "2¬∫B", telefonos: "651-330278//630-815594" },
                        { nombre: "Casado Godoy, Nazaret", curso: "2¬∫B", telefonos: "685-848351//656-973302" },
                        { nombre: "G√≥mez Dom√≠nguez, Laura", curso: "2¬∫B", telefonos: "684-010984//660-424297" },
                        { nombre: "Lepe Villar√°n, Carlota", curso: "2¬∫B", telefonos: "620-313846//600-860026" },
                        { nombre: "Mill√°n √Ålvarez, Roc√≠o", curso: "2¬∫B", telefonos: "685-200698//627-936028" },
                        { nombre: "Rivera Jim√©nez-Verdier, Mart√≠n", curso: "2¬∫B", telefonos: "664-663535//627-604659" }
                    ],
                    "3¬∫ A": [
                        { nombre: "Vega S√°nchez, Leo", curso: "3¬∫A", telefonos: "627-464297//625721945" }
                    ],
                    "4¬∫ A": [
                        { nombre: "D√≠az D√≠az, Gloria", curso: "4¬∫A", telefonos: "625-858052//676-844267" },
                        { nombre: "Pichardo L√≥pez, Nuria", curso: "3¬∫B", telefonos: "653-137718" }
                    ],
                    "4¬∫ B": [
                        { nombre: "Becerra √Åvila, Nacho", curso: "4¬∫B", telefonos: "658-694235//658-694236" },
                        { nombre: "Calvo Medrano, Bel√©n", curso: "4¬∫B", telefonos: "678-282781//616-719629" },
                        { nombre: "Orill√°n Grande, Abril", curso: "4¬∫B", telefonos: "677-079591//667-825356" },
                        { nombre: "Casado Godoy, Rosa", curso: "4¬∫B", telefonos: "685-848351//656-973303" },
                        { nombre: "Medina Lepe, Abril", curso: "4¬∫B", telefonos: "651-833603//635-819025" }
                    ],
                    "5¬∫ A": [
                        { nombre: "Alc√°ntara Ramos, Paula", curso: "5¬∫A", telefonos: "620-242034//666-461903" },
                        { nombre: "L√≥pez Morales, Isidro Jos√©", curso: "5¬∫A", telefonos: "625-168808//655-767673" },
                        { nombre: "Mill√°n Garc√≠a, Marina", curso: "5¬∫A", telefonos: "645-389742//627-956556" },
                        { nombre: "Lim√≥n Infante, Alicia", curso: "5¬∫A", telefonos: "628-596280//660-118650" }
                    ],
                    "5¬∫ B": [
                        { nombre: "√Åvila Moreno, Alba", curso: "5¬∫B", telefonos: "675-723259//616-422508" },
                        { nombre: "Casado Godoy, Rosa", curso: "4¬∫B", telefonos: "685-848351//656-973303" },
                        { nombre: "Medina Lepe, Abril", curso: "4¬∫B", telefonos: "651-833603//635-819025" },
                        { nombre: "Vega S√°nchez, Fabiola", curso: "5¬∫B", telefonos: "627-464297//625-721945" }
                    ]
                }
            },
            noAutorizados: {
                irseSolo: {
                    "4¬∫ A": ["COBZARIU, STEFAN√çA M¬™", "D√çAZ RUIZ, PATRICIA", "D√çAZ RUIZ, RUB√âN", "DUQUE SALAS, ALICIA", "JORDAN SU√ÅREZ, RUB√âN", "MESBAHI, AWATEF", "MOLINA D√çAZ, LUCAS", "ROSADO CASTIZO, ALBA", "TAHIRI, ANASS", "VALENCIANO BELLER√çN, VER√ìNICA"],
                    "4¬∫ B": ["BENJUMEA DOM√çNGUEZ, LUC√çA", "DE LA ROSA CEPEDA, √ÅLVARO", "D√çAZ MART√çNEZ, IZAN", "FLORES DELGADO, PABLO", "MILL√ÅN √ÅLVAREZ, CAYETANO", "RODR√çGUEZ RAMOS, DAVID", "TALIDI, NOUR"],
                    "5¬∫ A": ["D√çAZ PARRA, √ÅNGELA", "LARIOS SUERO, PABLO", "ORILL√ÅN GRANDE, ABRIL", "R√çOS MART√çN, MATEO"],
                    "5¬∫ B": ["CALVO BARRERO, CARMEN", "CASADO GODOY, NAZARET", "CHOULKHA, IMANE", "DE LARA L√ìPEZ, FRANCISCO", "DOM√çNGUEZ SU√ÅREZ, DANIEL", "L√ìPEZ GARC√çA, RUB√âN", "RODR√çGUEZ P√âREZ, LUCIA"],
                    "6¬∫ A": ["DE LARA L√ìPEZ, √ÅNGEL", "D√çAZ RUIZ, ADRIANA", "ESCOBAR BAENA, GUILLERMO", "HERN√ÅNDEZ GALV√ÅN, LOGAN", "MART√çN HERN√ÅNDEZ, √ÅLVARO", "MILL√ÅN √ÅLVAREZ, FCO JOS√â", "RODR√çGUEZ ALBARR√ÅN, AINHOA"]
                },
                cuentaGSuite: ["TAHIRI, ANASS", "CHOULKHA, IMANE"],
                salidasLocalidad: ["BRICHA, AMIR", "BRICHA, NERMINE", "HAYBOUL, KHADIJA", "TAHIRI, ANASS", "D√çAZ MART√çNEZ, IZAN"],
                tomaTemperatura: {
                    "2¬∫ A": ["ROLD√ÅN SVETOSLAVOVA, VER√ìNICA"],
                    "5¬∫ A": ["ROLD√ÅN SVETOSLAVOVA, ALEJANDRO"],
                    "6¬∫ A": ["DAVID JEREZ HERN√ÅNDEZ"],
                    "6¬∫ B": ["VAZ LAGARES, DANIELA"]
                },
                trabajosConcursos: ["BRICHA, AMIR", "BRICHA, NERMINE", "EL GOUCHE, LOUAY", "CHOULKHA, HAMZA", "HAYBOUL, KHADIJA", "D√çAZ MART√çNEZ, MAURO", "TAHIRI, ANASS", "D√çAZ MART√çNEZ, IZAN", "CHOULKHA, IMANE"]
            }
        };
        // Variables de estado
        let currentDocument = null;
        let currentActivity = null;
        let currentCourse = null;
        let allStudents = [];
        let navigationHistory = [];
        let audioContext = null;
        let audioBuffers = {};
        let userInteracted = false;
        let isNavigatingBack = false;
        let inactivityTimer = null;
        let countdownTimer = null;
        let timeRemaining = 300; // 5 minutos en segundos
        let isInitiallyLocked = true;
        let isInactivityLocked = false;
        let autoLockEnabled = true;
        let soundEnabled = true;
        let currentPassword = '';
        
        // URLs de los archivos de audio
        const audioUrls = {
            tap: 'https://raw.githubusercontent.com/ManuelVS8/Efectos_audio/37b3eb2da9c15c04dfb71dfe1be60f088ea3cdfc/Tap.mp3',
            correcto: 'https://raw.githubusercontent.com/ManuelVS8/Efectos_audio/7b86808e254100aeaba6285b3e0b82650ae78055/Correcto.mp3',
            error: 'https://raw.githubusercontent.com/ManuelVS8/Efectos_audio/7b86808e254100aeaba6285b3e0b82650ae78055/Error.mp3'
        };
        
        // Configuraci√≥n de tema
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const soundToggle = document.getElementById('sound-toggle');
        const fontDecreaseBtn = document.getElementById('font-decrease');
        const fontIncreaseBtn = document.getElementById('font-increase');
        const fontSizeValue = document.getElementById('font-size-value');
        const settingsToggle = document.getElementById('settings-toggle');
        const settingsPanel = document.getElementById('settings-panel');
        // Pantallas de bloqueo
        const initialLockScreen = document.getElementById('initial-lock-screen');
        const inactivityLockScreen = document.getElementById('inactivity-lock-screen');
        const mainContainer = document.getElementById('main-container');
        // Elementos de la pantalla de bloqueo
        const passwordDisplay = document.getElementById('password-display');
        const keypad = document.querySelector('.keypad');
        const inactivityPasswordDisplay = document.getElementById('inactivity-password-display');
        const inactivityKeypad = document.getElementById('inactivity-keypad');
        const inactivityTimerDisplay = document.getElementById('inactivity-timer');
        const countdownDisplay = document.getElementById('countdown');
        const inactivityErrorMessage = document.getElementById('inactivity-error-message');
        
        // Cargar configuraci√≥n guardada
function loadSettings() {
    const savedDarkMode = localStorage.getItem('darkMode') === 'true';
    const savedFontSize = localStorage.getItem('fontSize') || '100';
    const savedSound = localStorage.getItem('soundEnabled') !== 'false';
    darkModeToggle.checked = savedDarkMode;
    // Correcci√≥n: Aplicar 'dark' si est√° guardado como 'true', 'light' si es 'false' o no existe
    document.documentElement.setAttribute('data-theme', savedDarkMode ? 'dark' : 'light');
    document.documentElement.style.fontSize = `${savedFontSize}%`;
    fontSizeValue.textContent = `${savedFontSize}%`;
    soundToggle.checked = savedSound;
    soundEnabled = savedSound;
}
        // Guardar configuraci√≥n
        function saveSettings() {
            localStorage.setItem('darkMode', darkModeToggle.checked);
            localStorage.setItem('fontSize', fontSizeValue.textContent.replace('%', ''));
            localStorage.setItem('soundEnabled', soundToggle.checked);
        }
        
        // Funciones de audio
        function initAudio() {
            if (!audioContext && soundEnabled) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // Cargar los tres archivos de audio
                Object.keys(audioUrls).forEach(key => {
                    fetch(audioUrls[key])
                        .then(response => response.arrayBuffer())
                        .then(arrayBuffer => audioContext.decodeAudioData(arrayBuffer))
                        .then(buffer => {
                            audioBuffers[key] = buffer;
                        })
                        .catch(e => console.log(`Error al cargar el audio ${key}:`, e));
                });
            }
        }
        
        // Funciones p√∫blicas para reproducir sonidos
        function reproducirSonidoTap() {
            if (!soundEnabled) return;
            
            if (audioContext && audioBuffers.tap) {
                const source = audioContext.createBufferSource();
                source.buffer = audioBuffers.tap;
                source.connect(audioContext.destination);
                source.start(0);
            } else {
                // Fallback con elemento de audio
                const tapSound = document.getElementById('tap-sound');
                tapSound.src = audioUrls.tap;
                tapSound.currentTime = 0;
                tapSound.play().catch(e => console.log("Error al reproducir el sonido tap:", e));
            }
        }
        
        function reproducirSonidoCorrecto() {
            if (!soundEnabled) return;
            
            if (audioContext && audioBuffers.correcto) {
                const source = audioContext.createBufferSource();
                source.buffer = audioBuffers.correcto;
                source.connect(audioContext.destination);
                source.start(0);
            } else {
                // Fallback con elemento de audio
                const correctSound = document.getElementById('correct-sound');
                correctSound.src = audioUrls.correcto;
                correctSound.currentTime = 0;
                correctSound.play().catch(e => console.log("Error al reproducir el sonido correcto:", e));
            }
        }
        
        function reproducirSonidoError() {
            if (!soundEnabled) return;
            
            if (audioContext && audioBuffers.error) {
                const source = audioContext.createBufferSource();
                source.buffer = audioBuffers.error;
                source.connect(audioContext.destination);
                source.start(0);
            } else {
                // Fallback con elemento de audio
                const errorSound = document.getElementById('error-sound');
                errorSound.src = audioUrls.error;
                errorSound.currentTime = 0;
                errorSound.play().catch(e => console.log("Error al reproducir el sonido error:", e));
            }
        }
        
        // Mantener compatibilidad con la funci√≥n existente
        function playTapSound() {
            reproducirSonidoTap();
        }
        
        // Sistema de bloqueo inicial
        function initialUnlock() {
            if (currentPassword === '112') {
                reproducirSonidoCorrecto();
                isInitiallyLocked = false;
                initialLockScreen.classList.add('hidden');
                mainContainer.classList.add('unlocked');
                resetPasswordState();
                // Inicializar la aplicaci√≥n despu√©s del desbloqueo
                initializeApp();
                // Iniciar temporizador de inactividad si est√° habilitado
                if (autoLockEnabled) {
                    resetInactivityTimer();
                }
            } else {
                reproducirSonidoError();
                inactivityErrorMessage.textContent = 'Contrase√±a incorrecta';
                resetPasswordState();
                                // A√±adir vibraci√≥n si est√° disponible
                if (navigator.vibrate) {
                    navigator.vibrate(200);
                }
            }
        }
        
        // Sistema de bloqueo por inactividad
        function lockByInactivity() {
            if (!autoLockEnabled || isInitiallyLocked || isInactivityLocked) return;
            isInactivityLocked = true;
            inactivityLockScreen.classList.remove('hidden');
            resetInactivityPasswordState();
            inactivityErrorMessage.textContent = '';
            clearInterval(inactivityTimer);
            clearInterval(countdownTimer);
        }
        
        function unlockFromInactivity() {
            if (currentPassword === '112') {
                reproducirSonidoCorrecto();
                isInactivityLocked = false;
                inactivityLockScreen.classList.add('hidden');
                resetInactivityPasswordState();
                resetInactivityTimer();
                inactivityErrorMessage.textContent = '';
            } else {
                reproducirSonidoError();
                inactivityErrorMessage.textContent = 'Contrase√±a incorrecta';
                resetInactivityPasswordState();
                // A√±adir vibraci√≥n si est√° disponible
                if (navigator.vibrate) {
                    navigator.vibrate(200);
                }
            }
        }
        
        // Funciones para manejar la contrase√±a en la pantalla de bloqueo
        function resetPasswordState() {
            currentPassword = '';
            updatePasswordDisplay();
        }
        
        function resetInactivityPasswordState() {
            currentPassword = '';
            updatePasswordDisplay();
        }
        
        function updatePasswordDisplay() {
            const displayText = '‚Ä¢'.repeat(currentPassword.length);
            passwordDisplay.textContent = displayText;
            inactivityPasswordDisplay.textContent = displayText;
        }
        
        function handleKeyPress(key) {
            reproducirSonidoTap();
            if (key === 'backspace') {
                currentPassword = currentPassword.slice(0, -1);
            } else if (key === 'enter') {
                if (initialLockScreen.classList.contains('hidden')) {
                    unlockFromInactivity();
                } else {
                    initialUnlock();
                }
                return;
            } else {
                if (currentPassword.length < 3) { // Limitar a 3 d√≠gitos
                    currentPassword += key;
                }
            }
            updatePasswordDisplay();
        }
        
        // Temporizador de inactividad
        function resetInactivityTimer() {
            if (!autoLockEnabled || isInitiallyLocked || isInactivityLocked) return;
            clearInterval(inactivityTimer);
            clearInterval(countdownTimer);
            timeRemaining = 300;
            inactivityTimerDisplay.classList.remove('warning');
            inactivityTimer = setInterval(() => {
                timeRemaining -= 30;
                if (timeRemaining <= 60) {
                    inactivityTimerDisplay.classList.add('warning');
                    startCountdown();
                }
                if (timeRemaining <= 0) {
                    lockByInactivity();
                }
            }, 30000); // 30 segundos
        }
        
        function startCountdown() {
            countdownTimer = setInterval(() => {
                const minutes = Math.floor(timeRemaining / 60);
                const seconds = timeRemaining % 60;
                countdownDisplay.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
                timeRemaining--;
                if (timeRemaining < 0) {
                    clearInterval(countdownTimer);
                }
            }, 1000);
        }
        
        // Event listeners para teclado de bloqueo inicial
        keypad.addEventListener('click', (e) => {
            const key = e.target.closest('.key');
            if (key) {
                const keyValue = key.getAttribute('data-key');
                handleKeyPress(keyValue);
            }
        });
        
        // Event listeners para teclado de inactividad
        inactivityKeypad.addEventListener('click', (e) => {
            const key = e.target.closest('.key');
            if (key) {
                const keyValue = key.getAttribute('data-key');
                handleKeyPress(keyValue);
            }
        });
        
        // Monitorear actividad del usuario
        const activityEvents = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart', 'click'];
        activityEvents.forEach(event => {
            document.addEventListener(event, () => {
                if (!isInitiallyLocked && !isInactivityLocked) {
                    resetInactivityTimer();
                }
            });
        });
        
        // Inicializar la aplicaci√≥n despu√©s del desbloqueo
        function initializeApp() {
            loadAllStudents();
            initAudio();
            setupGlobalSearch();
            const initialState = {
                screen: 'home-screen',
                document: null,
                course: null
            };
            history.replaceState(initialState, '', '#home-screen');
            window.addEventListener('popstate', (event) => {
                playTapSound();
                if (event.state) {
                    restoreState(event.state);
                } else {
                    showScreen('home-screen', false);
                }
            });
            document.querySelectorAll('.card').forEach(card => {
                card.addEventListener('click', () => {
                    playTapSound();
                    const documentType = card.getAttribute('data-document');
                    loadCourses(documentType);
                });
            });
            document.querySelectorAll('.back-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    playTapSound();
                    history.back();
                });
            });
            document.querySelectorAll('.home-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    playTapSound();
                    navigationHistory = [];
                    currentDocument = null;
                    currentCourse = null;
                    showScreen('home-screen');
                });
            });
            const enableAudio = () => {
                if (!userInteracted) {
                    userInteracted = true;
                    initAudio();
                }
            };
            document.addEventListener('touchstart', enableAudio, { once: true });
            document.addEventListener('click', enableAudio, { once: true });
        }
        
        // Funciones principales de la app
        function showScreen(screenId, addToHistory = true) {
            if (isInitiallyLocked || isInactivityLocked) return;

            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');

            if (addToHistory && !isNavigatingBack) {
                const state = {
    screen: screenId,
    document: currentDocument,
    course: currentCourse,
    activity: currentActivity   // <-- a√±adimos la actividad al estado
};
history.pushState(state, '', `#${screenId}`);
            }
        }

        function restoreState(state) {
            isNavigatingBack = true;

            if (!state || state.screen === 'home-screen') {
                showScreen('home-screen', false);
            } else if (state.screen === 'course-screen') {
                currentDocument = state.document;
                loadCourses(currentDocument, false);
            } else if (state.screen === 'details-screen') {
    currentDocument = state.document;
    currentCourse = state.course;

    // --- EXTRAESCOLARES ---
            if (currentDocument === 'extraescolares') {
                // Correcci√≥n: Usar directamente la actividad y el curso guardados en el estado.
                const activity = state.activity; 
                const course = state.course;
                
                // Restaurar pantalla correcta
                loadExtraescolares(activity, course, false);
            }

    // --- NO AUTORIZADOS ---
    else if (currentDocument === 'noAutorizados') {

        // Caso 1: categor√≠as SIN cursos (arrays planos)
        const categoryData = documentsData.noAutorizados[currentCourse];
        if (Array.isArray(categoryData)) {
            showCategoryCourseScreen('noAutorizados', currentCourse, false);
        }

        // Caso 2: categor√≠as CON cursos
        else {
            loadNoAutorizadosByCourse(currentCourse, state.course, false);
        }
    }

    // --- RESTO DE DOCUMENTOS ---
    else {
        loadStudents(currentDocument, currentCourse, false);
    }
} else if (state.screen === 'details-screen') {
    currentDocument = state.document;
    currentCourse = state.course;
    currentActivity = state.activity || currentActivity;

    // --- EXTRAESCOLARES ---
    if (currentDocument === 'extraescolares') {
        // Necesitamos activity + course para reconstruir
        if (!currentActivity || !currentCourse) {
            // Si falta info, volvemos a la pantalla de actividades
            loadCourses('extraescolares', false);
        } else {
            loadExtraescolares(currentActivity, currentCourse, false);
        }
    }

    // --- NO AUTORIZADOS ---
    else if (currentDocument === 'noAutorizados') {
        const categoryData = documentsData.noAutorizados[currentCourse];

        if (Array.isArray(categoryData)) {
            // Categor√≠as sin cursos (listas planas)
            showCategoryCourseScreen('noAutorizados', currentCourse, false);
        } else {
            // Categor√≠as con cursos
            loadNoAutorizadosByCourse(currentCourse, state.course, false);
        }
    }

    // --- DOCUMENTOS NORMALES ---
    else {
        loadStudents(currentDocument, currentCourse, false);
    }
}

 else if (state.screen === 'no-autorizados-screen') {
                showNoAutorizados();
            } else if (state.screen === 'profile-screen') {
                showScreen('profile-screen', false);
            } else if (state.screen === 'category-screen') {
                showCategoryScreen(currentDocument, false);
            } else if (state.screen === 'category-course-screen') {
                showCategoryCourseScreen(currentDocument, currentCourse, false);
            }

            isNavigatingBack = false;
        }

        function loadAllStudents() {
            allStudents = [];
            Object.keys(documentsData).forEach(docType => {
                if (docType !== 'alergias' && docType !== 'noAutorizados') {
                    if (docType === 'extraescolares') {
                        // Procesar extraescolares de forma especial
                        Object.keys(documentsData[docType]).forEach(activity => {
                            const activityData = documentsData[docType][activity];
                            if (typeof activityData === 'object' && activityData !== null) {
                                Object.keys(activityData).forEach(course => {
                                    activityData[course].forEach(student => {
                                        const studentData = {
                                            nombre: student.nombre,
                                            curso: student.curso,
                                            documentos: {}
                                        };
                                        studentData.documentos[docType] = {
                                            ...student,
                                            actividad: activity
                                        };
                                        const existingStudentIndex = allStudents.findIndex(s => s.nombre === student.nombre);
                                        if (existingStudentIndex !== -1) {
                                            if (!allStudents[existingStudentIndex].documentos[docType]) {
                                                allStudents[existingStudentIndex].documentos[docType] = [];
                                            }
                                            allStudents[existingStudentIndex].documentos[docType].push(studentData.documentos[docType]);
                                        } else {
                                            studentData.documentos[docType] = [studentData.documentos[docType]];
                                            allStudents.push(studentData);
                                        }
                                    });
                                });
                            }
                        });
                    } else {
                        Object.keys(documentsData[docType]).forEach(course => {
                            documentsData[docType][course].forEach(student => {
                                const studentData = {
                                    nombre: student.nombre,
                                    curso: course,
                                    documentos: {}
                                };
                                studentData.documentos[docType] = student;
                                const existingStudentIndex = allStudents.findIndex(s => s.nombre === student.nombre);
                                if (existingStudentIndex !== -1) {
                                    allStudents[existingStudentIndex].documentos[docType] = student;
                                } else {
                                    allStudents.push(studentData);
                                }
                            });
                        });
                    }
                }
            });

            // Procesar no autorizados
            Object.keys(documentsData.noAutorizados).forEach(restrictionType => {
                if (restrictionType === 'tomaTemperatura') {
                    if (typeof documentsData.noAutorizados[restrictionType] === 'object' && documentsData.noAutorizados[restrictionType] !== null) {
                        Object.keys(documentsData.noAutorizados[restrictionType]).forEach(course => {
                            documentsData.noAutorizados[restrictionType][course].forEach(studentName => {
                                const studentIndex = allStudents.findIndex(s => s.nombre === studentName);
                                if (studentIndex !== -1) {
                                    if (!allStudents[studentIndex].documentos.noAutorizados) {
                                        allStudents[studentIndex].documentos.noAutorizados = [];
                                    }
                                    allStudents[studentIndex].documentos.noAutorizados.push({
                                        tipo: restrictionType,
                                        curso: course
                                    });
                                } else {
                                    allStudents.push({
                                        nombre: studentName,
                                        curso: course,
                                        documentos: {
                                            noAutorizados: [{
                                                tipo: restrictionType,
                                                curso: course
                                            }]
                                        }
                                    });
                                }
                            });
                        });
                    }
                } else if (Array.isArray(documentsData.noAutorizados[restrictionType])) {
                    documentsData.noAutorizados[restrictionType].forEach(studentName => {
                        const studentIndex = allStudents.findIndex(s => s.nombre === studentName);
                        if (studentIndex !== -1) {
                            if (!allStudents[studentIndex].documentos.noAutorizados) {
                                allStudents[studentIndex].documentos.noAutorizados = [];
                            }
                            allStudents[studentIndex].documentos.noAutorizados.push({
                                tipo: restrictionType,
                                curso: 'General'
                            });
                        } else {
                            allStudents.push({
                                nombre: studentName,
                                curso: 'General',
                                documentos: {
                                    noAutorizados: [{
                                        tipo: restrictionType,
                                        curso: 'General'
                                    }]
                                }
                            });
                        }
                    });
                } else if (typeof documentsData.noAutorizados[restrictionType] === 'object' && documentsData.noAutorizados[restrictionType] !== null) {
                    // Para estructuras como irseSolo
                    Object.keys(documentsData.noAutorizados[restrictionType]).forEach(course => {
                        documentsData.noAutorizados[restrictionType][course].forEach(studentName => {
                            const studentIndex = allStudents.findIndex(s => s.nombre === studentName);
                            if (studentIndex !== -1) {
                                if (!allStudents[studentIndex].documentos.noAutorizados) {
                                    allStudents[studentIndex].documentos.noAutorizados = [];
                                }
                                allStudents[studentIndex].documentos.noAutorizados.push({
                                    tipo: restrictionType,
                                    curso: course
                                });
                            } else {
                                allStudents.push({
                                    nombre: studentName,
                                    curso: course,
                                    documentos: {
                                        noAutorizados: [{
                                            tipo: restrictionType,
                                            curso: course
                                        }]
                                    }
                                });
                            }
                        });
                    });
                }
            });

            Object.keys(documentsData.alergias).forEach(course => {
                documentsData.alergias[course].forEach(allergy => {
                    const studentIndex = allStudents.findIndex(s => s.nombre === allergy.nombre);
                    if (studentIndex !== -1) {
                        if (!allStudents[studentIndex].documentos.alergias) {
                            allStudents[studentIndex].documentos.alergias = [];
                        }
                        allStudents[studentIndex].documentos.alergias.push({
                            ...allergy,
                            curso: course
                        });
                    } else {
                        allStudents.push({
                            nombre: allergy.nombre,
                            curso: course,
                            documentos: {
                                alergias: [{
                                    ...allergy,
                                    curso: course
                                }]
                            }
                        });
                    }
                });
            });
        }

        function formatPhoneLinks(phoneString) {
            if (!phoneString) return '';
            const phones = phoneString.split('//');
            const links = phones.map(phone => {
                const cleanPhone = phone.replace(/\s+/g, '').replace(/-/g, '');
                return `<a href="tel:${cleanPhone}" style="color: var(--primary-light); text-decoration: none; font-weight: 500;">${phone}</a>`;
            });
            return links.join(' / ');
        }

        function loadCourses(documentType, addToHistory = true) {
            const coursesContainer = document.getElementById('courses-container');
            coursesContainer.innerHTML = '';
            currentDocument = documentType;

            if (documentType === 'extraescolares') {
                // Mostrar categor√≠as (actividades) en lugar de cursos directamente
                const activities = Object.keys(documentsData[documentType]);
                if (activities.length === 0) {
                    coursesContainer.innerHTML = '<div class="no-data">No hay actividades extraescolares disponibles</div>';
                    navigationHistory.push('home-screen');
                    showScreen('course-screen', addToHistory);
                    return;
                }

                activities.forEach(activity => {
                    const button = document.createElement('button');
                    button.className = 'course-btn';
                    button.textContent = activity;
                    button.addEventListener('click', () => {
    playTapSound();
    currentActivity = activity;        // <-- guardar la actividad seleccionada
    loadExtraescolaresByCourse(activity);
});
                    coursesContainer.appendChild(button);
                });

                navigationHistory.push('home-screen');
                showScreen('course-screen', addToHistory);
            } else if (documentType === 'noAutorizados') {
                // Nueva navegaci√≥n para "No autorizados"
                showCategoryScreen(documentType, addToHistory);
            } else {
                const courses = Object.keys(documentsData[documentType]);
                if (courses.length === 0) {
                    coursesContainer.innerHTML = '<div class="no-data">No hay cursos disponibles para este documento</div>';
                    navigationHistory.push('home-screen');
                    showScreen('course-screen', addToHistory);
                    return;
                }

                courses.forEach(course => {
                    const button = document.createElement('button');
                    button.className = 'course-btn';
                    button.textContent = course;
                    button.addEventListener('click', () => {
                        playTapSound();
                        currentCourse = course;
                        if (documentType === 'alergias') {
                            loadAllergiesCourse(course);
                        } else {
                            loadStudents(documentType, course);
                        }
                    });
                    coursesContainer.appendChild(button);
                });

                navigationHistory.push('home-screen');
                showScreen('course-screen', addToHistory);
            }
        }

        function showCategoryScreen(documentType, addToHistory = true) {
            const categoryContainer = document.getElementById('category-container');
            categoryContainer.innerHTML = '';
            currentDocument = documentType;

            const categories = [
                { id: 'irseSolo', name: 'NO PUEDEN IRSE SOLOS A CASA' },
                { id: 'cuentaGSuite', name: 'SIN CUENTA GSUITE' },
                { id: 'salidasLocalidad', name: 'NO AUTORIZA SALIDAS POR LA LOCALIDAD' },
                { id: 'tomaTemperatura', name: 'NO AUTORIZA TOMA DE TEMPERATURA' },
                { id: 'trabajosConcursos', name: 'NO PARTICIPACI√ìN EN CONCURSOS' }
            ];

            categories.forEach(cat => {
                const button = document.createElement('button');
                button.className = 'course-btn';
                button.textContent = cat.name;
                button.addEventListener('click', () => {
                    playTapSound();
                    currentCourse = cat.id;
                    showCategoryCourseScreen(documentType, cat.id);
                });
                categoryContainer.appendChild(button);
            });

            navigationHistory.push('home-screen');
            showScreen('category-screen', addToHistory);
        }

        function showCategoryCourseScreen(documentType, categoryId, addToHistory = true) {
            const container = document.getElementById('category-courses-container');
            container.innerHTML = '';
            currentDocument = documentType;
            currentCourse = categoryId;

            const data = documentsData.noAutorizados[categoryId];

            if (Array.isArray(data)) {
                // Caso de listado plano (cuentaGSuite, salidasLocalidad, trabajosConcursos)
                const students = data;
                document.getElementById('details-title').textContent = `Alumnos - ${getRestrictionTitle(categoryId)}`;
                document.getElementById('students-count').textContent = `${students.length} alumnos`;

                const studentsList = document.getElementById('student-list');
                studentsList.innerHTML = '';

                students.forEach(name => {
                    const card = document.createElement('div');
                    card.className = 'student-card';
                    card.innerHTML = `<div class="student-name">${name}</div>`;
                    card.addEventListener('click', () => {
                        playTapSound();
                        showStudentProfile(name);
                    });
                    studentsList.appendChild(card);
                });

                navigationHistory.push('category-screen');
                showScreen('details-screen', addToHistory);
            } else {
                // Caso de listado por curso (irseSolo, tomaTemperatura)
                const courses = Object.keys(data);
                if (courses.length === 0) {
                    container.innerHTML = '<div class="no-data">No hay cursos disponibles para esta categor√≠a</div>';
                    navigationHistory.push('category-screen');
                    showScreen('category-course-screen', addToHistory);
                    return;
                }

                courses.forEach(course => {
                    const button = document.createElement('button');
                    button.className = 'course-btn';
                    button.textContent = course;
                    button.addEventListener('click', () => {
                        playTapSound();
                        currentCourse = course;
                        loadNoAutorizadosByCourse(categoryId, course);
                    });
                    container.appendChild(button);
                });

                navigationHistory.push('category-screen');
                showScreen('category-course-screen', addToHistory);
            }
        }

        function loadNoAutorizadosByCourse(categoryId, course, addToHistory = true) {
    const studentsList = document.getElementById('student-list');
    studentsList.innerHTML = '';
    const students = (documentsData.noAutorizados[categoryId] && documentsData.noAutorizados[categoryId][course]) ? documentsData.noAutorizados[categoryId][course] : [];

    document.getElementById('details-title').textContent = `${course} - ${getRestrictionTitle(categoryId)}`;
    document.getElementById('students-count').textContent = `${students.length} alumnos`;

    if (students.length === 0) {
        studentsList.innerHTML = '<div class="no-data">No hay alumnos en esta categor√≠a y curso</div>';
        // push a state that includes category so popstate can restore correctly
        if (addToHistory) {
            history.pushState({
                screen: 'details-screen',
                document: 'noAutorizados',
                course: course,
                category: categoryId
            }, '', '#details-screen');
        }
        showScreen('details-screen', false);
        return;
    }

    students.forEach(name => {
        const card = document.createElement('div');
        card.className = 'student-card';
        card.innerHTML = `<div class="student-name">${name}</div>`;
        card.addEventListener('click', () => {
            playTapSound();
            showStudentProfile(name);
        });
        studentsList.appendChild(card);
    });

    // push a state that includes category so popstate can restore correctly
    if (addToHistory) {
        history.pushState({
            screen: 'details-screen',
            document: 'noAutorizados',
            course: course,
            category: categoryId
        }, '', '#details-screen');
    }

    navigationHistory.push('category-course-screen');
    showScreen('details-screen', false);
}

        function getRestrictionTitle(categoryId) {
            const titles = {
                irseSolo: 'NO PUEDEN IRSE SOLOS A CASA',
                cuentaGSuite: 'SIN CUENTA GSUITE',
                salidasLocalidad: 'NO AUTORIZA SALIDAS POR LA LOCALIDAD',
                tomaTemperatura: 'NO AUTORIZA TOMA DE TEMPERATURA',
                trabajosConcursos: 'NO PARTICIPACI√ìN EN CONCURSOS'
            };
            return titles[categoryId] || categoryId;
        }

        function loadExtraescolaresByCourse(activity) {
            const coursesContainer = document.getElementById('courses-container');
            coursesContainer.innerHTML = '';

            const activityData = documentsData.extraescolares[activity];
            if (!activityData || typeof activityData !== 'object') {
                coursesContainer.innerHTML = '<div class="no-data">No hay cursos disponibles para esta actividad</div>';
                navigationHistory.push('course-screen');
                showScreen('course-screen');
                return;
            }

            const courses = Object.keys(activityData);
            if (courses.length === 0) {
                coursesContainer.innerHTML = '<div class="no-data">No hay cursos disponibles para esta actividad</div>';
                navigationHistory.push('course-screen');
                showScreen('course-screen');
                return;
            }

            courses.forEach(course => {
                const button = document.createElement('button');
                button.className = 'course-btn';
                button.textContent = course;
                button.addEventListener('click', () => {
                    playTapSound();
                    currentCourse = course;
                    loadExtraescolares(activity, course);
                });
                coursesContainer.appendChild(button);
            });

            navigationHistory.push('course-screen');
            showScreen('course-screen');
        }

        function loadExtraescolares(activity, course) {
            const studentsList = document.getElementById('student-list');
            studentsList.innerHTML = '';

            const activityData = documentsData.extraescolares[activity];
            const students = activityData && activityData[course] ? activityData[course] : [];

            document.getElementById('details-title').textContent = `${course} - ${activity}`;
            document.getElementById('students-count').textContent = `${students.length} alumnos`;

            if (students.length === 0) {
                studentsList.innerHTML = '<div class="no-data">No hay alumnos apuntados a esta actividad en este curso</div>';
                navigationHistory.push('course-screen');
                showScreen('details-screen');
                return;
            }

            students.forEach(student => {
                const studentCard = document.createElement('div');
                studentCard.className = 'student-card';

                let studentInfo = `<div class="student-name">${student.nombre}</div>`;
                studentInfo += `<div class="student-info"><strong>Curso:</strong> ${student.curso}</div>`;
                if (student.telefonos) {
                    studentInfo += `<div class="student-info"><strong>Tel√©fonos:</strong> ${formatPhoneLinks(student.telefonos)}</div>`;
                }

                studentCard.innerHTML = studentInfo;
                studentCard.addEventListener('click', () => {
                    playTapSound();
                    showStudentProfile(student.nombre);
                });
                studentsList.appendChild(studentCard);
            });

            navigationHistory.push('course-screen');
            showScreen('details-screen');
        }

        function loadStudents(documentType, course, addToHistory = true) {
            const studentsList = document.getElementById('student-list');
            studentsList.innerHTML = '';

            const students = documentsData[documentType][course] || [];

            document.getElementById('details-title').textContent = `${course} - ${getDocumentTitle(documentType)}`;
            document.getElementById('students-count').textContent = `${students.length} alumnos`;

            if (students.length === 0) {
                studentsList.innerHTML = '<div class="no-data">No hay informaci√≥n disponible para este curso</div>';
                navigationHistory.push('course-screen');
                showScreen('details-screen', addToHistory);
                return;
            }

            students.forEach(student => {
                const studentCard = document.createElement('div');
                studentCard.className = 'student-card';

                let studentInfo = `<div class="student-name">${student.nombre}</div>`;

                if (documentType === 'imagenes') {
                    let autorizacionText = '';
                    switch(student.autorizacion) {
                        case '1': autorizacionText = 'Difusi√≥n total'; break;
                        case '2': autorizacionText = 'No difusi√≥n comunidad educativa'; break;
                        case 'TODO NO': autorizacionText = 'No autoriza'; break;
                        default: autorizacionText = student.autorizacion;
                    }
                    studentInfo += `<div class="student-info"><strong>Autorizaci√≥n:</strong> ${autorizacionText}</div>`;
                } else if (documentType === 'religion') {
                    studentInfo += `<div class="student-info"><strong>Estado:</strong> Recibe Atenci√≥n Educativa</div>`;
                } else if (documentType === 'separados') {
                    studentInfo += `<div class="student-info"><strong>Observaci√≥n:</strong> ${student.observacion}</div>`;
                } else if (documentType === 'matinal' || documentType === 'comedor') {
                    studentInfo += `<div class="student-info"><strong>Tel√©fonos:</strong> ${formatPhoneLinks(student.telefonos)}</div>`;
                }

                studentCard.innerHTML = studentInfo;
                studentCard.addEventListener('click', () => {
                    playTapSound();
                    showStudentProfile(student.nombre);
                });
                studentsList.appendChild(studentCard);
            });

            navigationHistory.push('course-screen');
            showScreen('details-screen', addToHistory);
        }

        function showNoAutorizados() {
            const noAutorizadosList = document.getElementById('no-autorizados-list');
            noAutorizadosList.innerHTML = '';

            let totalRestrictions = 0;

            // Funci√≥n para crear una secci√≥n de restricciones
            function createRestrictionSection(title, restrictionType) {
                const section = document.createElement('div');
                section.className = 'restriction-item';

                let restrictionHtml = `<div class="restriction-title">${title}</div>`;
                let studentsHtml = '<div class="restriction-students">';

                if (restrictionType === 'tomaTemperatura') {
                    Object.keys(documentsData.noAutorizados[restrictionType]).forEach(course => {
                        const students = documentsData.noAutorizados[restrictionType][course];
                        if (students.length > 0) {
                            studentsHtml += `<div><strong>${course}:</strong> `;
                            studentsHtml += students.map(name => `<span>${name}</span>`).join('');
                            studentsHtml += '</div>';
                            totalRestrictions += students.length;
                        }
                    });
                } else if (Array.isArray(documentsData.noAutorizados[restrictionType])) {
                    const students = documentsData.noAutorizados[restrictionType];
                    if (students.length > 0) {
                        studentsHtml += `<div>`;
                        studentsHtml += students.map(name => `<span>${name}</span>`).join('');
                        studentsHtml += '</div>';
                        totalRestrictions += students.length;
                    }
                } else {
                    Object.keys(documentsData.noAutorizados[restrictionType]).forEach(course => {
                        const students = documentsData.noAutorizados[restrictionType][course];
                        if (students.length > 0) {
                            studentsHtml += `<div><strong>${course}:</strong> `;
                            studentsHtml += students.map(name => `<span>${name}</span>`).join('');
                            studentsHtml += '</div>';
                            totalRestrictions += students.length;
                        }
                    });
                }

                studentsHtml += '</div>';
                restrictionHtml += studentsHtml;
                section.innerHTML = restrictionHtml;
                return section;
            }

            // A√±adir todas las secciones de restricciones
            noAutorizadosList.appendChild(createRestrictionSection(' IRSE SOLOS A CASA', 'irseSolo'));
            noAutorizadosList.appendChild(createRestrictionSection('NO AUTORIZA TOMA DE TEMPERATURA', 'tomaTemperatura'));

            document.getElementById('no-autorizados-count').textContent = `${totalRestrictions} restricciones`;

            navigationHistory.push('home-screen');
            showScreen('no-autorizados-screen');
        }

        function loadAllergiesCourse(course, addToHistory = true) {
            const allergiesList = document.getElementById('allergies-course-list');
            allergiesList.innerHTML = '';

            const allergies = documentsData.alergias[course] || [];

            document.getElementById('allergies-course-title').textContent = `${course} - Alergias y enfermedades`;
            document.getElementById('allergies-course-count').textContent = `${allergies.length} alumnos`;

            if (allergies.length === 0) {
                allergiesList.innerHTML = '<div class="no-data">No hay informaci√≥n de alergias disponible para este curso</div>';
                navigationHistory.push('course-screen');
                showScreen('allergies-course-screen', addToHistory);
                return;
            }

            allergies.forEach(allergy => {
                const allergyCard = document.createElement('div');
                allergyCard.className = 'student-card';

                let allergyInfo = `
                    <div class="student-name">${allergy.nombre}</div>
                    <div class="student-info"><strong>Tipo:</strong> ${allergy.tipo}</div>
                    <div class="student-info"><strong>Detalle:</strong> ${allergy.detalle}</div>
                `;

                if (allergy.telefono) {
                    allergyInfo += `<div class="student-info"><strong>Tel√©fono:</strong> ${formatPhoneLinks(allergy.telefono)}</div>`;
                }

                allergyCard.innerHTML = allergyInfo;
                allergyCard.addEventListener('click', () => {
                    playTapSound();
                    showStudentProfile(allergy.nombre);
                });
                allergiesList.appendChild(allergyCard);
            });

            navigationHistory.push('course-screen');
            showScreen('allergies-course-screen', addToHistory);
        }

        function showStudentProfile(studentName) {
            const student = allStudents.find(s => s.nombre === studentName);
            if (!student) {
                alert('No se encontr√≥ informaci√≥n del estudiante');
                return;
            }

            document.getElementById('profile-name').textContent = student.nombre;
            document.getElementById('profile-course').textContent = student.curso || 'No especificado';

            const firstLetter = student.nombre.charAt(0);
            document.getElementById('profile-avatar').textContent = firstLetter;

            const profileSections = document.getElementById('profile-sections');
            profileSections.innerHTML = '';

            const personalSection = document.createElement('div');
            personalSection.className = 'profile-section';
            personalSection.innerHTML = `
                <h3><span class="icon">üë§</span> Datos personales</h3>
                <div class="profile-section-content">
                    <p><strong>Nombre:</strong> ${student.nombre}</p>
                    <p><strong>Curso:</strong> ${student.curso || 'No especificado'}</p>
                </div>
            `;
            profileSections.appendChild(personalSection);

            if (student.documentos.imagenes) {
                const imagenesSection = document.createElement('div');
                imagenesSection.className = 'profile-section';
                let autorizacionText = '';
                switch(student.documentos.imagenes.autorizacion) {
                    case '1': autorizacionText = 'Difusi√≥n total'; break;
                    case '2': autorizacionText = 'No difusi√≥n comunidad educativa'; break;
                    case 'TODO NO': autorizacionText = 'No autoriza'; break;
                    default: autorizacionText = student.documentos.imagenes.autorizacion;
                }
                imagenesSection.innerHTML = `
                    <h3><span class="icon">üì∏</span> Autorizaciones de imagen</h3>
                    <div class="profile-section-content">
                        <p><span class="tag">${autorizacionText}</span></p>
                    </div>
                `;
                profileSections.appendChild(imagenesSection);
            }

            if (student.documentos.religion) {
                const religionSection = document.createElement('div');
                religionSection.className = 'profile-section';
                religionSection.innerHTML = `
                    <h3><span class="icon">üè´</span> ATEDU</h3>
                    <div class="profile-section-content">
                        <p><span class="tag warning">Alumnado que recibe Atenci√≥n Educativa</span></p>
                    </div>
                `;
                profileSections.appendChild(religionSection);
            }

            if (student.documentos.separados) {
                const separadosSection = document.createElement('div');
                separadosSection.className = 'profile-section';
                separadosSection.innerHTML = `
                    <h3><span class="icon">üë©‚Äçüëß</span> Situaci√≥n familiar</h3>
                    <div class="profile-section-content">
                        <p><strong>Observaci√≥n:</strong> ${student.documentos.separados.observacion}</p>
                    </div>
                `;
                profileSections.appendChild(separadosSection);
            }

            if (student.documentos.extraescolares && student.documentos.extraescolares.length > 0) {
                const extraescolaresSection = document.createElement('div');
                extraescolaresSection.className = 'profile-section';
                let extraescolaresContent = '<h3><span class="icon">üé®</span> Actividades extraescolares</h3><div class="profile-section-content">';
                student.documentos.extraescolares.forEach(activity => {
                    extraescolaresContent += `
                        <p><span class="tag success">${activity.actividad}</span> - ${activity.curso}</p>
                        ${activity.telefonos ? `<p><strong>Tel√©fonos:</strong> ${formatPhoneLinks(activity.telefonos)}</p>` : ''}
                    `;
                });
                extraescolaresContent += '</div>';
                extraescolaresSection.innerHTML = extraescolaresContent;
                profileSections.appendChild(extraescolaresSection);
            }

            if (student.documentos.noAutorizados && student.documentos.noAutorizados.length > 0) {
                const noAutorizadosSection = document.createElement('div');
                noAutorizadosSection.className = 'profile-section';
                let noAutorizadosContent = '<h3><span class="icon">üö´</span> Restricciones</h3><div class="profile-section-content">';
                student.documentos.noAutorizados.forEach(restriction => {
                    let restrictionText = '';
                    switch(restriction.tipo) {
                        case 'irseSolo': restrictionText = 'NO PUEDEN IRSE SOLOS A CASA'; break;
                        case 'tomaTemperatura': restrictionText = 'NO AUTORIZA TOMA DE TEMPERATURA'; break;
                        case 'cuentaGSuite': restrictionText = 'SIN CUENTA GSUITE'; break;
                        case 'salidasLocalidad': restrictionText = 'NO AUTORIZA SALIDAS POR LA LOCALIDAD'; break;
                        case 'trabajosConcursos': restrictionText = 'NO PARTICIPACI√ìN EN CONCURSOS'; break;
                        default: restrictionText = restriction.tipo;
                    }
                    noAutorizadosContent += `<p><span class="tag danger">${restrictionText}</span> - ${restriction.curso}</p>`;
                });
                noAutorizadosContent += '</div>';
                noAutorizadosSection.innerHTML = noAutorizadosContent;
                profileSections.appendChild(noAutorizadosSection);
            }

            if (student.documentos.alergias && student.documentos.alergias.length > 0) {
                const alergiasSection = document.createElement('div');
                alergiasSection.className = 'profile-section';
                let alergiasContent = '<h3><span class="icon">ü§í</span> Alergias y enfermedades</h3><div class="profile-section-content">';
                student.documentos.alergias.forEach(alergia => {
                    alergiasContent += `
                        <p><span class="tag danger">${alergia.tipo}</span> ${alergia.detalle}</p>
                        ${alergia.telefono ? `<p><strong>Tel√©fono:</strong> ${formatPhoneLinks(alergia.telefono)}</p>` : ''}
                        ${alergia.curso && alergia.curso !== student.curso ? `<p><small>Registrado en: ${alergia.curso}</small></p>` : ''}
                    `;
                });
                alergiasContent += '</div>';
                alergiasSection.innerHTML = alergiasContent;
                profileSections.appendChild(alergiasSection);
            }

            if (student.documentos.matinal) {
                const matinalSection = document.createElement('div');
                matinalSection.className = 'profile-section';
                matinalSection.innerHTML = `
                    <h3><span class="icon">üåÖ</span> Aula matinal</h3>
                    <div class="profile-section-content">
                        <p><span class="tag success">Asiste al aula matinal</span></p>
                        <p><strong>Tel√©fonos de contacto:</strong> ${formatPhoneLinks(student.documentos.matinal.telefonos)}</p>
                    </div>
                `;
                profileSections.appendChild(matinalSection);
            }

            if (student.documentos.comedor) {
                const comedorSection = document.createElement('div');
                comedorSection.className = 'profile-section';
                comedorSection.innerHTML = `
                    <h3><span class="icon">üçΩÔ∏è</span> Comedor</h3>
                    <div class="profile-section-content">
                        <p><span class="tag success">Utiliza el servicio de comedor</span></p>
                        <p><strong>Tel√©fonos de contacto:</strong> ${formatPhoneLinks(student.documentos.comedor.telefonos)}</p>
                    </div>
                `;
                profileSections.appendChild(comedorSection);
            }

            const currentScreen = document.querySelector('.screen.active').id;
            navigationHistory.push(currentScreen);
            showScreen('profile-screen');
        }

        function getDocumentTitle(documentType) {
            const titles = {
                'imagenes': 'Autorizaciones de imagen',
                'religion': 'ATEDU',
                'separados': 'Padres separados',
                'matinal': 'Aula matinal',
                'comedor': 'Comedor'
            };
            return titles[documentType] || documentType;
        }

        function setupGlobalSearch() {
            const searchInput = document.getElementById('global-search');
            const searchResults = document.getElementById('search-results');

            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase().trim();
                if (query.length < 2) {
                    searchResults.style.display = 'none';
                    return;
                }

                const filteredStudents = allStudents.filter(student =>
                    student.nombre.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '').includes(query.normalize('NFD').replace(/[\u0300-\u036f]/g, ''))
                );

                searchResults.innerHTML = '';
                if (filteredStudents.length === 0) {
                    searchResults.innerHTML = '<div class="search-result-item">No se encontraron resultados</div>';
                } else {
                    filteredStudents.forEach(student => {
                        const resultItem = document.createElement('div');
                        resultItem.className = 'search-result-item';
                        resultItem.textContent = student.nombre;
                        resultItem.addEventListener('click', () => {
                            playTapSound();
                            showStudentProfile(student.nombre);
                            searchResults.style.display = 'none';
                            searchInput.value = '';
                        });
                        searchResults.appendChild(resultItem);
                    });
                }
                searchResults.style.display = 'block';
            });

            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                    searchResults.style.display = 'none';
                }
            });
        }

        // Event listeners para configuraci√≥n
        darkModeToggle.addEventListener('change', () => {
            document.documentElement.setAttribute('data-theme', darkModeToggle.checked ? 'dark' : 'light');
            saveSettings();
        });

        soundToggle.addEventListener('change', () => {
            soundEnabled = soundToggle.checked;
            saveSettings();
        });

        fontDecreaseBtn.addEventListener('click', () => {
            const currentSize = parseInt(fontSizeValue.textContent);
            if (currentSize > 80) {
                const newSize = currentSize - 10;
                document.documentElement.style.fontSize = `${newSize}%`;
                fontSizeValue.textContent = `${newSize}%`;
                saveSettings();
            }
        });

        fontIncreaseBtn.addEventListener('click', () => {
            const currentSize = parseInt(fontSizeValue.textContent);
            if (currentSize < 150) {
                const newSize = currentSize + 10;
                document.documentElement.style.fontSize = `${newSize}%`;
                fontSizeValue.textContent = `${newSize}%`;
                saveSettings();
            }
        });

        settingsToggle.addEventListener('click', () => {
            settingsPanel.classList.toggle('active');
        });

        // Cerrar panel de configuraci√≥n al hacer clic fuera
        document.addEventListener('click', (e) => {
            if (!settingsToggle.contains(e.target) && !settingsPanel.contains(e.target)) {
                settingsPanel.classList.remove('active');
            }
        });

        // Iniciar la aplicaci√≥n
        document.addEventListener('DOMContentLoaded', () => {
            loadSettings();
            resetPasswordState(); // Reinicia el estado de la contrase√±a al cargar
        });
    </script>
</body>
</html>